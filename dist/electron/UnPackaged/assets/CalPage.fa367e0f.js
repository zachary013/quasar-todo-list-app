import{k as pt,aA as xt,aB as vi,aC as hi,aD as mi,R as fi,aE as Bi,S as pi,aF as Fi,c as k,a3 as Pi,g as at,h as A,ac as vt,aG as zi,ao as ji,P as Ce,r as z,ar as gi,L as lt,t as _e,J as qt,w as ve,o as Ri,p as st,O as qi,x as Ct,aH as Yt,H as Yi,a7 as Ni,$ as Ui,aI as Ki,B as Qi,a0 as Xi,aJ as Gi,u as Zi,aK as Ji,a1 as el,aL as tl,aM as il,N as ll,aN as nl,aO as Nt,C as al,aP as sl,l as ol,n as nt,aQ as rl,aR as ul,aS as dl,q as cl,U as vl,aT as hl,V as ml,W as fl,aU as pl,aV as gl,aW as Ut,aX as Ze,aY as yl,aZ as wl,a_ as Dl,M as Re,a$ as _l,b0 as bl,X as Sl,a9 as p,aw as b,b1 as qe,af as N,ad as x,b2 as $,ay as ie,b3 as ce,au as Kt,al as U,F as ne,ax as re,aj as Le,f as Se,ab as R,aa as we,b4 as kl,b5 as Tt,b6 as El,ae as oe,b7 as Qt,b8 as Xt,b9 as C,ak as Gt,ba as Cl}from"./index.335f25ae.js";import{a as Tl,b as Ml,Q as xl}from"./QItemLabel.fde7f4e2.js";import{c as Vl,n as Zt}from"./format.e20f5019.js";import{Q as Ol}from"./QPage.7275914e.js";import{_ as Al}from"./plugin-vue_export-helper.21dcd24c.js";var Hl=pt({name:"QField",inheritAttrs:!1,props:{...xt,tag:{type:String,default:"label"}},emits:vi,setup(){return hi(mi({tagProp:!0}))}});const Ll={xs:8,sm:10,md:14,lg:20,xl:24};var $l=pt({name:"QChip",props:{...fi,...Bi,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:i}){const{proxy:{$q:n}}=at(),a=pi(e,n),l=Fi(e,Ll),o=k(()=>e.selected===!0||e.icon!==void 0),s=k(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),c=k(()=>e.iconRemove||n.iconSet.chip.remove),u=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=k(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),m=k(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:S,remove:H}});function f(S){S.keyCode===13&&h(S)}function h(S){e.disable||(i("update:selected",!e.selected),i("click",S))}function g(S){(S.keyCode===void 0||S.keyCode===13)&&(Ce(S),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function W(){const S=[];u.value===!0&&S.push(A("div",{class:"q-focus-helper"})),o.value===!0&&S.push(A(vt,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const H=e.label!==void 0?[A("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(A("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},zi(t.default,H))),e.iconRight&&S.push(A(vt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(A(vt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...m.value.remove,onClick:g,onKeyup:g})),S}return()=>{if(e.modelValue===!1)return;const S={class:d.value,style:l.value};return u.value===!0&&Object.assign(S,m.value.chip,{onClick:h,onKeyup:f}),Pi("div",S,W(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ji,e.ripple]])}}});const Wl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Il={...Wl,contextMenu:Boolean};function Bl({showing:e,avoidEmit:t,configureAnchorEl:i}){const{props:n,proxy:a,emit:l}=at(),o=z(null);let s=null;function c(h){return o.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const u={};i===void 0&&(Object.assign(u,{hide(h){a.hide(h)},toggle(h){a.toggle(h),h.qAnchorHandled=!0},toggleKey(h){gi(h,13)===!0&&u.toggle(h)},contextClick(h){a.hide(h),lt(h),_e(()=>{a.show(h),h.qAnchorHandled=!0})},prevent:lt,mobileTouch(h){if(u.mobileCleanup(h),c(h)!==!0)return;a.hide(h),o.value.classList.add("non-selectable");const g=h.target;qt(u,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,a.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){o.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&h!==void 0&&Vl()}}),i=function(h=n.contextMenu){if(n.noParentEvent===!0||o.value===null)return;let g;h===!0?a.$q.platform.is.mobile===!0?g=[[o.value,"touchstart","mobileTouch","passive"]]:g=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:g=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],qt(u,"anchor",g)});function d(){qi(u,"anchor")}function m(h){for(o.value=h;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;i()}function f(){if(n.target===!1||n.target===""||a.$el.parentNode===null)o.value=null;else if(n.target===!0)m(a.$el.parentNode);else{let h=n.target;if(typeof n.target=="string")try{h=document.querySelector(n.target)}catch{h=void 0}h!=null?(o.value=h.$el||h,i()):(o.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return ve(()=>n.contextMenu,h=>{o.value!==null&&(d(),i(h))}),ve(()=>n.target,()=>{o.value!==null&&d(),f()}),ve(()=>n.noParentEvent,h=>{o.value!==null&&(h===!0?d():i())}),Ri(()=>{f(),t!==!0&&n.modelValue===!0&&o.value===null&&l("update:modelValue",!1)}),st(()=>{s!==null&&clearTimeout(s),d()}),{anchorEl:o,canShow:c,anchorEvents:u}}function Fl(e,t){const i=z(null);let n;function a(s,c){const u=`${c!==void 0?"add":"remove"}EventListener`,d=c!==void 0?c:n;s!==window&&s[u]("scroll",d,Ct.passive),window[u]("scroll",d,Ct.passive),n=c}function l(){i.value!==null&&(a(i.value),i.value=null)}const o=ve(()=>e.noParentEvent,()=>{i.value!==null&&(l(),t())});return st(o),{localScrollTarget:i,unconfigureScrollTarget:l,changeScrollEvent:a}}const{notPassiveCapture:ht}=Ct,$e=[];function mt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let i=Yt.length-1;for(;i>=0;){const n=Yt[i].$;if(n.type.name==="QTooltip"){i--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;i--}for(let n=$e.length-1;n>=0;n--){const a=$e[n];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function Pl(e){$e.push(e),$e.length===1&&(document.addEventListener("mousedown",mt,ht),document.addEventListener("touchstart",mt,ht))}function Jt(e){const t=$e.findIndex(i=>i===e);t!==-1&&($e.splice(t,1),$e.length===0&&(document.removeEventListener("mousedown",mt,ht),document.removeEventListener("touchstart",mt,ht)))}let ei,ti;function ii(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function zl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Mt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Mt[`${e}#ltr`]=e,Mt[`${e}#rtl`]=e});function li(e,t){const i=e.split(" ");return{vertical:i[0],horizontal:Mt[`${i[1]}#${t===!0?"rtl":"ltr"}`]}}function jl(e,t){let{top:i,left:n,right:a,bottom:l,width:o,height:s}=e.getBoundingClientRect();return t!==void 0&&(i-=t[1],n-=t[0],l+=t[1],a+=t[0],o+=t[0],s+=t[1]),{top:i,bottom:l,height:s,left:n,right:a,width:o,middle:n+(a-n)/2,center:i+(l-i)/2}}function Rl(e,t,i){let{top:n,left:a}=e.getBoundingClientRect();return n+=t.top,a+=t.left,i!==void 0&&(n+=i[1],a+=i[0]),{top:n,bottom:n+1,height:1,left:a,right:a+1,width:1,middle:a,center:n}}function ql(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function ni(e,t,i,n){return{top:e[i.vertical]-t[n.vertical],left:e[i.horizontal]-t[n.horizontal]}}function yi(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{yi(e,t+1)},10);return}const{targetEl:i,offset:n,anchorEl:a,anchorOrigin:l,selfOrigin:o,absoluteOffset:s,fit:c,cover:u,maxHeight:d,maxWidth:m}=e;if(Yi.is.ios===!0&&window.visualViewport!==void 0){const I=document.body.style,{offsetLeft:G,offsetTop:J}=window.visualViewport;G!==ei&&(I.setProperty("--q-pe-left",G+"px"),ei=G),J!==ti&&(I.setProperty("--q-pe-top",J+"px"),ti=J)}const{scrollLeft:f,scrollTop:h}=i,g=s===void 0?jl(a,u===!0?[0,0]:n):Rl(a,s,n);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:m||"100vw",maxHeight:d||"100vh",visibility:"visible"});const{offsetWidth:W,offsetHeight:S}=i,{elWidth:H,elHeight:Z}=c===!0||u===!0?{elWidth:Math.max(g.width,W),elHeight:u===!0?Math.max(g.height,S):S}:{elWidth:W,elHeight:S};let V={maxWidth:m,maxHeight:d};(c===!0||u===!0)&&(V.minWidth=g.width+"px",u===!0&&(V.minHeight=g.height+"px")),Object.assign(i.style,V);const L=ql(H,Z);let j=ni(g,L,l,o);if(s===void 0||n===void 0)St(j,g,L,l,o);else{const{top:I,left:G}=j;St(j,g,L,l,o);let J=!1;if(j.top!==I){J=!0;const ae=2*n[1];g.center=g.top-=ae,g.bottom-=ae+2}if(j.left!==G){J=!0;const ae=2*n[0];g.middle=g.left-=ae,g.right-=ae+2}J===!0&&(j=ni(g,L,l,o),St(j,g,L,l,o))}V={top:j.top+"px",left:j.left+"px"},j.maxHeight!==void 0&&(V.maxHeight=j.maxHeight+"px",g.height>j.maxHeight&&(V.minHeight=V.maxHeight)),j.maxWidth!==void 0&&(V.maxWidth=j.maxWidth+"px",g.width>j.maxWidth&&(V.minWidth=V.maxWidth)),Object.assign(i.style,V),i.scrollTop!==h&&(i.scrollTop=h),i.scrollLeft!==f&&(i.scrollLeft=f)}function St(e,t,i,n,a){const l=i.bottom,o=i.right,s=Ni(),c=window.innerHeight-s,u=document.body.clientWidth;if(e.top<0||e.top+l>c)if(a.vertical==="center")e.top=t[n.vertical]>c/2?Math.max(0,c-l):0,e.maxHeight=Math.min(l,c);else if(t[n.vertical]>c/2){const d=Math.min(c,n.vertical==="center"?t.center:n.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,d),e.top=Math.max(0,d-l)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,c-e.top);if(e.left<0||e.left+o>u)if(e.maxWidth=Math.min(o,u),a.horizontal==="middle")e.left=t[n.horizontal]>u/2?Math.max(0,u-o):0;else if(t[n.horizontal]>u/2){const d=Math.min(u,n.horizontal==="middle"?t.middle:n.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(o,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(o,u-e.left)}var Yl=pt({name:"QMenu",inheritAttrs:!1,props:{...Il,...Ui,...fi,...Ki,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ii},self:{type:String,validator:ii},offset:{type:Array,validator:zl},scrollTarget:Qi,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Xi,"click","escapeKey"],setup(e,{slots:t,emit:i,attrs:n}){let a=null,l,o,s;const c=at(),{proxy:u}=c,{$q:d}=u,m=z(null),f=z(!1),h=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=pi(e,d),{registerTick:W,removeTick:S}=Gi(),{registerTimeout:H}=Zi(),{transitionProps:Z,transitionStyle:V}=Ji(e),{localScrollTarget:L,changeScrollEvent:j,unconfigureScrollTarget:I}=Fl(e,M),{anchorEl:G,canShow:J}=Bl({showing:f}),{hide:ae}=el({showing:f,canShow:J,handleShow:xe,handleHide:v,hideOnRouteChange:h,processOnMount:!0}),{showPortal:me,hidePortal:Te,renderPortal:le}=tl(c,m,Q,"menu"),De={anchorEl:G,innerRef:m,onClickOutside(y){if(e.persistent!==!0&&f.value===!0)return ae(y),(y.type==="touchstart"||y.target.classList.contains("q-dialog__backdrop"))&&Ce(y),!0}},Me=k(()=>li(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ke=k(()=>e.cover===!0?Me.value:li(e.self||"top start",d.lang.rtl)),ue=k(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),Ke=k(()=>e.autoClose===!0?{onClick:B}:{}),Ee=k(()=>f.value===!0&&e.persistent!==!0);ve(Ee,y=>{y===!0?(ul(O),Pl(De)):(Nt(O),Jt(De))});function fe(){rl(()=>{let y=m.value;y&&y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function xe(y){if(a=e.noRefocus===!1?document.activeElement:null,il(K),me(),M(),l=void 0,y!==void 0&&(e.touchPosition||e.contextMenu)){const ee=ll(y);if(ee.left!==void 0){const{top:pe,left:We}=G.value.getBoundingClientRect();l={left:ee.left-We,top:ee.top-pe}}}o===void 0&&(o=ve(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,T)),e.noFocus!==!0&&document.activeElement.blur(),W(()=>{T(),e.noFocus!==!0&&fe()}),H(()=>{d.platform.is.ios===!0&&(s=e.autoClose,m.value.click()),T(),me(!0),i("show",y)},e.transitionDuration)}function v(y){S(),Te(),D(!0),a!==null&&(y===void 0||y.qClickOutside!==!0)&&(((y&&y.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),H(()=>{Te(!0),i("hide",y)},e.transitionDuration)}function D(y){l=void 0,o!==void 0&&(o(),o=void 0),(y===!0||f.value===!0)&&(nl(K),I(),Jt(De),Nt(O)),y!==!0&&(a=null)}function M(){(G.value!==null||e.scrollTarget!==void 0)&&(L.value=al(G.value,e.scrollTarget),j(L.value,T))}function B(y){s!==!0?(sl(u,y),i("click",y)):s=!1}function K(y){Ee.value===!0&&e.noFocus!==!0&&dl(m.value,y.target)!==!0&&fe()}function O(y){i("escapeKey"),ae(y)}function T(){yi({targetEl:m.value,offset:e.offset,anchorEl:G.value,anchorOrigin:Me.value,selfOrigin:ke.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Q(){return A(nt,Z.value,()=>f.value===!0?A("div",{role:"menu",...n,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+ue.value,n.class],style:[n.style,V.value],...Ke.value},ol(t.default)):null)}return st(D),Object.assign(u,{focus:fe,updatePosition:T}),le}});let ft=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,ft=e.scrollLeft>=0,e.remove()}const he=1e3,Nl=["start","center","end","start-force","center-force","end-force"],wi=Array.prototype.filter,Ul=window.getComputedStyle(document.body).overflowAnchor===void 0?cl:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];wi.call(i,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const n=i[t];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function Ne(e,t){return e+t}function kt(e,t,i,n,a,l,o,s){const c=e===window?document.scrollingElement||document.documentElement:e,u=a===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-o-s,scrollMaxSize:0,offsetStart:-o,offsetEnd:-s};if(a===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=c.scrollLeft,d.scrollViewSize+=c.clientWidth),d.scrollMaxSize=c.scrollWidth,l===!0&&(d.scrollStart=(ft===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=c.scrollTop,d.scrollViewSize+=c.clientHeight),d.scrollMaxSize=c.scrollHeight),i!==null)for(let m=i.previousElementSibling;m!==null;m=m.previousElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=m[u]);if(n!==null)for(let m=n.nextElementSibling;m!==null;m=m.nextElementSibling)m.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=m[u]);if(t!==e){const m=c.getBoundingClientRect(),f=t.getBoundingClientRect();a===!0?(d.offsetStart+=f.left-m.left,d.offsetEnd-=f.width):(d.offsetStart+=f.top-m.top,d.offsetEnd-=f.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function ai(e,t,i,n){t==="end"&&(t=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(n===!0&&(t=(ft===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):i===!0?(n===!0&&(t=(ft===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Je(e,t,i,n){if(i>=n)return 0;const a=t.length,l=Math.floor(i/he),o=Math.floor((n-1)/he)+1;let s=e.slice(l,o).reduce(Ne,0);return i%he!==0&&(s-=t.slice(l*he,i).reduce(Ne,0)),n%he!==0&&n!==a&&(s-=t.slice(n,o*he).reduce(Ne,0)),s}const Kl={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},si={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Kl};function Ql({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:i,virtualScrollItemSizeComputed:n}){const a=at(),{props:l,emit:o,proxy:s}=a,{$q:c}=s;let u,d,m,f=[],h;const g=z(0),W=z(0),S=z({}),H=z(null),Z=z(null),V=z(null),L=z({from:0,to:0}),j=k(()=>l.tableColspan!==void 0?l.tableColspan:100);n===void 0&&(n=k(()=>l.virtualScrollItemSize));const I=k(()=>n.value+";"+l.virtualScrollHorizontal),G=k(()=>I.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);ve(G,()=>{ue()}),ve(I,J);function J(){ke(d,!0)}function ae(v){ke(v===void 0?d:v)}function me(v,D){const M=t();if(M==null||M.nodeType===8)return;const B=kt(M,i(),H.value,Z.value,l.virtualScrollHorizontal,c.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);m!==B.scrollViewSize&&ue(B.scrollViewSize),le(M,B,Math.min(e.value-1,Math.max(0,parseInt(v,10)||0)),0,Nl.indexOf(D)!==-1?D:d!==-1&&v>d?"end":"start")}function Te(){const v=t();if(v==null||v.nodeType===8)return;const D=kt(v,i(),H.value,Z.value,l.virtualScrollHorizontal,c.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),M=e.value-1,B=D.scrollMaxSize-D.offsetStart-D.offsetEnd-W.value;if(u===D.scrollStart)return;if(D.scrollMaxSize<=0){le(v,D,0,0);return}m!==D.scrollViewSize&&ue(D.scrollViewSize),De(L.value.from);const K=Math.floor(D.scrollMaxSize-Math.max(D.scrollViewSize,D.offsetEnd)-Math.min(h[M],D.scrollViewSize/2));if(K>0&&Math.ceil(D.scrollStart)>=K){le(v,D,M,D.scrollMaxSize-D.offsetEnd-f.reduce(Ne,0));return}let O=0,T=D.scrollStart-D.offsetStart,Q=T;if(T<=B&&T+D.scrollViewSize>=g.value)T-=g.value,O=L.value.from,Q=T;else for(let y=0;T>=f[y]&&O<M;y++)T-=f[y],O+=he;for(;T>0&&O<M;)T-=h[O],T>-D.scrollViewSize?(O++,Q=T):Q=h[O]+T;le(v,D,O,Q)}function le(v,D,M,B,K){const O=typeof K=="string"&&K.indexOf("-force")!==-1,T=O===!0?K.replace("-force",""):K,Q=T!==void 0?T:"start";let y=Math.max(0,M-S.value[Q]),ee=y+S.value.total;ee>e.value&&(ee=e.value,y=Math.max(0,ee-S.value.total)),u=D.scrollStart;const pe=y!==L.value.from||ee!==L.value.to;if(pe===!1&&T===void 0){Ee(M);return}const{activeElement:We}=document,ge=V.value;pe===!0&&ge!==null&&ge!==We&&ge.contains(We)===!0&&(ge.addEventListener("focusout",Me),setTimeout(()=>{ge!==null&&ge.removeEventListener("focusout",Me)})),Ul(ge,M-y);const ot=T!==void 0?h.slice(y,M).reduce(Ne,0):0;if(pe===!0){const Ve=ee>=L.value.from&&y<=L.value.to?L.value.to:ee;L.value={from:y,to:Ve},g.value=Je(f,h,0,y),W.value=Je(f,h,ee,e.value),requestAnimationFrame(()=>{L.value.to!==ee&&u===D.scrollStart&&(L.value={from:L.value.from,to:ee},W.value=Je(f,h,ee,e.value))})}requestAnimationFrame(()=>{if(u!==D.scrollStart)return;pe===!0&&De(y);const Ve=h.slice(y,M).reduce(Ne,0),Oe=Ve+D.offsetStart+g.value,rt=Oe+h[M];let Qe=Oe+B;if(T!==void 0){const gt=Ve-ot,Xe=D.scrollStart+gt;Qe=O!==!0&&Xe<Oe&&rt<Xe+D.scrollViewSize?Xe:T==="end"?rt-D.scrollViewSize:Oe-(T==="start"?0:Math.round((D.scrollViewSize-h[M])/2))}u=Qe,ai(v,Qe,l.virtualScrollHorizontal,c.lang.rtl),Ee(M)})}function De(v){const D=V.value;if(D){const M=wi.call(D.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),B=M.length,K=l.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let O=v,T,Q;for(let y=0;y<B;){for(T=K(M[y]),y++;y<B&&M[y].classList.contains("q-virtual-scroll--with-prev")===!0;)T+=K(M[y]),y++;Q=T-h[O],Q!==0&&(h[O]+=Q,f[Math.floor(O/he)]+=Q),O++}}}function Me(){V.value!==null&&V.value!==void 0&&V.value.focus()}function ke(v,D){const M=1*n.value;(D===!0||Array.isArray(h)===!1)&&(h=[]);const B=h.length;h.length=e.value;for(let O=e.value-1;O>=B;O--)h[O]=M;const K=Math.floor((e.value-1)/he);f=[];for(let O=0;O<=K;O++){let T=0;const Q=Math.min((O+1)*he,e.value);for(let y=O*he;y<Q;y++)T+=h[y];f.push(T)}d=-1,u=void 0,g.value=Je(f,h,0,L.value.from),W.value=Je(f,h,L.value.to,e.value),v>=0?(De(L.value.from),_e(()=>{me(v)})):fe()}function ue(v){if(v===void 0&&typeof window!="undefined"){const T=t();T!=null&&T.nodeType!==8&&(v=kt(T,i(),H.value,Z.value,l.virtualScrollHorizontal,c.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}m=v;const D=parseFloat(l.virtualScrollSliceRatioBefore)||0,M=parseFloat(l.virtualScrollSliceRatioAfter)||0,B=1+D+M,K=v===void 0||v<=0?1:Math.ceil(v/n.value),O=Math.max(1,K,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/B));S.value={total:Math.ceil(O*B),start:Math.ceil(O*D),center:Math.ceil(O*(.5+D)),end:Math.ceil(O*(1+D)),view:K}}function Ke(v,D){const M=l.virtualScrollHorizontal===!0?"width":"height",B={["--q-virtual-scroll-item-"+M]:n.value+"px"};return[v==="tbody"?A(v,{class:"q-virtual-scroll__padding",key:"before",ref:H},[A("tr",[A("td",{style:{[M]:`${g.value}px`,...B},colspan:j.value})])]):A(v,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[M]:`${g.value}px`,...B}}),A(v,{class:"q-virtual-scroll__content",key:"content",ref:V,tabindex:-1},D.flat()),v==="tbody"?A(v,{class:"q-virtual-scroll__padding",key:"after",ref:Z},[A("tr",[A("td",{style:{[M]:`${W.value}px`,...B},colspan:j.value})])]):A(v,{class:"q-virtual-scroll__padding",key:"after",ref:Z,style:{[M]:`${W.value}px`,...B}})]}function Ee(v){d!==v&&(l.onVirtualScroll!==void 0&&o("virtualScroll",{index:v,from:L.value.from,to:L.value.to-1,direction:v<d?"decrease":"increase",ref:s}),d=v)}ue();const fe=vl(Te,c.platform.is.ios===!0?120:35);hl(()=>{ue()});let xe=!1;return ml(()=>{xe=!0}),fl(()=>{if(xe!==!0)return;const v=t();u!==void 0&&v!==void 0&&v!==null&&v.nodeType!==8?ai(v,u,l.virtualScrollHorizontal,c.lang.rtl):me(d)}),st(()=>{fe.cancel()}),Object.assign(s,{scrollTo:me,reset:J,refresh:ae}),{virtualScrollSliceRange:L,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:ue,onVirtualScrollEvt:fe,localResetVirtualScroll:ke,padVirtualScroll:Ke,scrollTo:me,reset:J,refresh:ae}}const oi=e=>["add","add-unique","toggle"].includes(e),Xl=".*+?^${}()|[]\\",Gl=Object.keys(xt);var Zl=pt({name:"QSelect",inheritAttrs:!1,props:{...si,...pl,...xt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:oi},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:si.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...vi,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:i}){const{proxy:n}=at(),{$q:a}=n,l=z(!1),o=z(!1),s=z(-1),c=z(""),u=z(!1),d=z(!1);let m=null,f=null,h,g,W,S=null,H,Z,V,L;const j=z(null),I=z(null),G=z(null),J=z(null),ae=z(null),me=gl(e),Te=Dl(Ft),le=k(()=>Array.isArray(e.options)?e.options.length:0),De=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Me,virtualScrollSliceSizeComputed:ke,localResetVirtualScroll:ue,padVirtualScroll:Ke,onVirtualScrollEvt:Ee,scrollTo:fe,setVirtualScrollSize:xe}=Ql({virtualScrollLength:le,getVirtualScrollTarget:Ei,getVirtualScrollEl:It,virtualScrollItemSizeComputed:De}),v=mi(),D=k(()=>{const r=e.mapOptions===!0&&e.multiple!==!0,_=e.modelValue!==void 0&&(e.modelValue!==null||r===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const w=e.mapOptions===!0&&h!==void 0?h:[],E=_.map(P=>ki(P,w));return e.modelValue===null&&r===!0?E.filter(P=>P!==null):E}return _}),M=k(()=>{const r={};return Gl.forEach(_=>{const w=e[_];w!==void 0&&(r[_]=w)}),r}),B=k(()=>e.optionsDark===null?v.isDark.value:e.optionsDark),K=k(()=>Ut(D.value)),O=k(()=>{let r="q-field__input q-placeholder col";return e.hideSelected===!0||D.value.length===0?[r,e.inputClass]:(r+=" q-field__input--padding",e.inputClass===void 0?r:[r,e.inputClass])}),T=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),Q=k(()=>le.value===0),y=k(()=>D.value.map(r=>se.value(r)).join(", ")),ee=k(()=>e.displayValue!==void 0?e.displayValue:y.value),pe=k(()=>e.optionsHtml===!0?()=>!0:r=>r!=null&&r.html===!0),We=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||D.value.some(pe.value))),ge=k(()=>v.focused.value===!0?e.tabindex:-1),ot=k(()=>{const r={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${v.targetUid.value}_lb`};return s.value>=0&&(r["aria-activedescendant"]=`${v.targetUid.value}_${s.value}`),r}),Ve=k(()=>({id:`${v.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Oe=k(()=>D.value.map((r,_)=>({index:_,opt:r,html:pe.value(r),selected:!0,removeAtIndex:Si,toggleOption:Ae,tabindex:ge.value}))),rt=k(()=>{if(le.value===0)return[];const{from:r,to:_}=Me.value;return e.options.slice(r,_).map((w,E)=>{const P=Ie.value(w)===!0,F=Dt(w)===!0,te=r+E,X={clickable:!0,active:F,activeClass:Xe.value,manualFocus:!0,focused:!1,disable:P,tabindex:-1,dense:e.optionsDense,dark:B.value,role:"option","aria-selected":F===!0?"true":"false",id:`${v.targetUid.value}_${te}`,onClick:()=>{Ae(w)}};return P!==!0&&(s.value===te&&(X.focused=!0),a.platform.is.desktop===!0&&(X.onMousemove=()=>{l.value===!0&&Be(te)})),{index:te,opt:w,html:pe.value(w),label:se.value(w),selected:X.active,focused:X.focused,toggleOption:Ae,setOptionIndex:Be,itemProps:X}})}),Qe=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),gt=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Xe=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ye=k(()=>wt(e.optionValue,"value")),se=k(()=>wt(e.optionLabel,"label")),Ie=k(()=>wt(e.optionDisable,"disable")),ut=k(()=>D.value.map(r=>ye.value(r))),bi=k(()=>{const r={onInput:Ft,onChange:Te,onKeydown:Wt,onKeyup:Lt,onKeypress:$t,onFocus:At,onClick(_){g===!0&&Re(_)}};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=Te,r});ve(D,r=>{h=r,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&v.innerLoading.value!==!0&&(o.value!==!0&&l.value!==!0||K.value!==!0)&&(W!==!0&&je(),(o.value===!0||l.value===!0)&&Fe(""))},{immediate:!0}),ve(()=>e.fillInput,je),ve(l,_t),ve(le,Ii);function Vt(r){return e.emitValue===!0?ye.value(r):r}function yt(r){if(r!==-1&&r<D.value.length)if(e.multiple===!0){const _=e.modelValue.slice();i("remove",{index:r,value:_.splice(r,1)[0]}),i("update:modelValue",_)}else i("update:modelValue",null)}function Si(r){yt(r),v.focus()}function Ot(r,_){const w=Vt(r);if(e.multiple!==!0){e.fillInput===!0&&Ge(se.value(r),!0,!0),i("update:modelValue",w);return}if(D.value.length===0){i("add",{index:0,value:w}),i("update:modelValue",e.multiple===!0?[w]:w);return}if(_===!0&&Dt(r)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const E=e.modelValue.slice();i("add",{index:E.length,value:w}),E.push(w),i("update:modelValue",E)}function Ae(r,_){if(v.editable.value!==!0||r===void 0||Ie.value(r)===!0)return;const w=ye.value(r);if(e.multiple!==!0){_!==!0&&(Ge(e.fillInput===!0?se.value(r):"",!0,!0),He()),I.value!==null&&I.value.focus(),(D.value.length===0||Ze(ye.value(D.value[0]),w)!==!0)&&i("update:modelValue",e.emitValue===!0?w:r);return}if((g!==!0||u.value===!0)&&v.focus(),At(),D.value.length===0){const F=e.emitValue===!0?w:r;i("add",{index:0,value:F}),i("update:modelValue",e.multiple===!0?[F]:F);return}const E=e.modelValue.slice(),P=ut.value.findIndex(F=>Ze(F,w));if(P!==-1)i("remove",{index:P,value:E.splice(P,1)[0]});else{if(e.maxValues!==void 0&&E.length>=e.maxValues)return;const F=e.emitValue===!0?w:r;i("add",{index:E.length,value:F}),E.push(F)}i("update:modelValue",E)}function Be(r){if(a.platform.is.desktop!==!0)return;const _=r!==-1&&r<le.value?r:-1;s.value!==_&&(s.value=_)}function dt(r=1,_){if(l.value===!0){let w=s.value;do w=Zt(w+r,-1,le.value-1);while(w!==-1&&w!==s.value&&Ie.value(e.options[w])===!0);s.value!==w&&(Be(w),fe(w),_!==!0&&e.useInput===!0&&e.fillInput===!0&&ct(w>=0?se.value(e.options[w]):H,!0))}}function ki(r,_){const w=E=>Ze(ye.value(E),r);return e.options.find(w)||_.find(w)||r}function wt(r,_){const w=r!==void 0?r:_;return typeof w=="function"?w:E=>E!==null&&typeof E=="object"&&w in E?E[w]:E}function Dt(r){const _=ye.value(r);return ut.value.find(w=>Ze(w,_))!==void 0}function At(r){e.useInput===!0&&I.value!==null&&(r===void 0||I.value===r.target&&r.target.value===y.value)&&I.value.select()}function Ht(r){gi(r,27)===!0&&l.value===!0&&(Re(r),He(),je()),i("keyup",r)}function Lt(r){const{value:_}=r.target;if(r.keyCode!==void 0){Ht(r);return}if(r.target.value="",m!==null&&(clearTimeout(m),m=null),f!==null&&(clearTimeout(f),f=null),je(),typeof _=="string"&&_.length!==0){const w=_.toLocaleLowerCase(),E=F=>{const te=e.options.find(X=>F.value(X).toLocaleLowerCase()===w);return te===void 0?!1:(D.value.indexOf(te)===-1?Ae(te):He(),!0)},P=F=>{E(ye)!==!0&&(E(se)===!0||F===!0||Fe(_,!0,()=>P(!0)))};P()}else v.clearValue(r)}function $t(r){i("keypress",r)}function Wt(r){if(i("keydown",r),_l(r)===!0)return;const _=c.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),w=r.shiftKey!==!0&&e.multiple!==!0&&(s.value!==-1||_===!0);if(r.keyCode===27){lt(r);return}if(r.keyCode===9&&w===!1){Pe();return}if(r.target===void 0||r.target.id!==v.targetUid.value||v.editable.value!==!0)return;if(r.keyCode===40&&v.innerLoading.value!==!0&&l.value===!1){Ce(r),ze();return}if(r.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&c.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?yt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(r.keyCode===35||r.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(Ce(r),s.value=-1,dt(r.keyCode===36?1:-1,e.multiple)),(r.keyCode===33||r.keyCode===34)&&ke.value!==void 0&&(Ce(r),s.value=Math.max(-1,Math.min(le.value,s.value+(r.keyCode===33?-1:1)*ke.value.view)),dt(r.keyCode===33?1:-1,e.multiple)),(r.keyCode===38||r.keyCode===40)&&(Ce(r),dt(r.keyCode===38?-1:1,e.multiple));const E=le.value;if((V===void 0||L<Date.now())&&(V=""),E>0&&e.useInput!==!0&&r.key!==void 0&&r.key.length===1&&r.altKey===!1&&r.ctrlKey===!1&&r.metaKey===!1&&(r.keyCode!==32||V.length!==0)){l.value!==!0&&ze(r);const P=r.key.toLocaleLowerCase(),F=V.length===1&&V[0]===P;L=Date.now()+1500,F===!1&&(Ce(r),V+=P);const te=new RegExp("^"+V.split("").map(bt=>Xl.indexOf(bt)!==-1?"\\"+bt:bt).join(".*"),"i");let X=s.value;if(F===!0||X<0||te.test(se.value(e.options[X]))!==!0)do X=Zt(X+1,-1,E-1);while(X!==s.value&&(Ie.value(e.options[X])===!0||te.test(se.value(e.options[X]))!==!0));s.value!==X&&_e(()=>{Be(X),fe(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&ct(se.value(e.options[X]),!0)});return}if(!(r.keyCode!==13&&(r.keyCode!==32||e.useInput===!0||V!=="")&&(r.keyCode!==9||w===!1))){if(r.keyCode!==9&&Ce(r),s.value!==-1&&s.value<E){Ae(e.options[s.value]);return}if(_===!0){const P=(F,te)=>{if(te){if(oi(te)!==!0)return}else te=e.newValueMode;if(Ge("",e.multiple!==!0,!0),F==null)return;(te==="toggle"?Ae:Ot)(F,te==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),He())};if(e.onNewValue!==void 0?i("newValue",c.value,P):P(c.value),e.multiple!==!0)return}l.value===!0?Pe():v.innerLoading.value!==!0&&ze()}}function It(){return g===!0?ae.value:G.value!==null&&G.value.contentEl!==null?G.value.contentEl:void 0}function Ei(){return It()}function Ci(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Oe.value.map(r=>t["selected-item"](r)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Oe.value.map((r,_)=>A($l,{key:"option-"+_,removable:v.editable.value===!0&&Ie.value(r.opt)!==!0,dense:!0,textColor:e.color,tabindex:ge.value,onRemove(){r.removeAtIndex(_)}},()=>A("span",{class:"ellipsis",[r.html===!0?"innerHTML":"textContent"]:se.value(r.opt)}))):[A("span",{[We.value===!0?"innerHTML":"textContent"]:ee.value})]}function Bt(){if(Q.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:c.value}):void 0;const r=t.option!==void 0?t.option:w=>A(xl,{key:w.index,...w.itemProps},()=>A(Tl,()=>A(Ml,()=>A("span",{[w.html===!0?"innerHTML":"textContent"]:w.label}))));let _=Ke("div",rt.value.map(r));return t["before-options"]!==void 0&&(_=t["before-options"]().concat(_)),Sl(t["after-options"],_)}function Ti(r,_){const w=_===!0?{...ot.value,...v.splitAttrs.attributes.value}:void 0,E={ref:_===!0?I:void 0,key:"i_t",class:O.value,style:e.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...w,id:_===!0?v.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":r===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...bi.value};return r!==!0&&g===!0&&(Array.isArray(E.class)===!0?E.class=[...E.class,"no-pointer-events"]:E.class+=" no-pointer-events"),A("input",E)}function Ft(r){m!==null&&(clearTimeout(m),m=null),f!==null&&(clearTimeout(f),f=null),!(r&&r.target&&r.target.qComposing===!0)&&(ct(r.target.value||""),W=!0,H=c.value,v.focused.value!==!0&&(g!==!0||u.value===!0)&&v.focus(),e.onFilter!==void 0&&(m=setTimeout(()=>{m=null,Fe(c.value)},e.inputDebounce)))}function ct(r,_){c.value!==r&&(c.value=r,_===!0||e.inputDebounce===0||e.inputDebounce==="0"?i("inputValue",r):f=setTimeout(()=>{f=null,i("inputValue",r)},e.inputDebounce))}function Ge(r,_,w){W=w!==!0,e.useInput===!0&&(ct(r,!0),(_===!0||w!==!0)&&(H=r),_!==!0&&Fe(r))}function Fe(r,_,w){if(e.onFilter===void 0||_!==!0&&v.focused.value!==!0)return;v.innerLoading.value===!0?i("filterAbort"):(v.innerLoading.value=!0,d.value=!0),r!==""&&e.multiple!==!0&&D.value.length!==0&&W!==!0&&r===se.value(D.value[0])&&(r="");const E=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);S!==null&&clearTimeout(S),S=E,i("filter",r,(P,F)=>{(_===!0||v.focused.value===!0)&&S===E&&(clearTimeout(S),typeof P=="function"&&P(),d.value=!1,_e(()=>{v.innerLoading.value=!1,v.editable.value===!0&&(_===!0?l.value===!0&&He():l.value===!0?_t(!0):l.value=!0),typeof F=="function"&&_e(()=>{F(n)}),typeof w=="function"&&_e(()=>{w(n)})}))},()=>{v.focused.value===!0&&S===E&&(clearTimeout(S),v.innerLoading.value=!1,d.value=!1),l.value===!0&&(l.value=!1)})}function Mi(){return A(Yl,{ref:G,class:T.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&Q.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:B.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:gt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ve.value,onScrollPassive:Ee,onBeforeShow:zt,onBeforeHide:xi,onShow:Vi},Bt)}function xi(r){jt(r),Pe()}function Vi(){xe()}function Oi(r){Re(r),I.value!==null&&I.value.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ai(r){Re(r),_e(()=>{u.value=!1})}function Hi(){const r=[A(Hl,{class:`col-auto ${v.fieldClass.value}`,...M.value,for:v.targetUid.value,dark:B.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:c.value.length!==0,...v.splitAttrs.listeners.value,onFocus:Oi,onBlur:Ai},{...t,rawControl:()=>v.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&r.push(A("div",{ref:ae,class:T.value+" scroll",style:e.popupContentStyle,...Ve.value,onClick:lt,onScrollPassive:Ee},Bt())),A(bl,{ref:J,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:Z,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:zt,onBeforeHide:Li,onHide:$i,onShow:Wi},()=>A("div",{class:"q-select__dialog"+(B.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},r))}function Li(r){jt(r),J.value!==null&&J.value.__updateRefocusTarget(v.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),v.focused.value=!1}function $i(r){He(),v.focused.value===!1&&i("blur",r),je()}function Wi(){const r=document.activeElement;(r===null||r.id!==v.targetUid.value)&&I.value!==null&&I.value!==r&&I.value.focus(),xe()}function Pe(){o.value!==!0&&(s.value=-1,l.value===!0&&(l.value=!1),v.focused.value===!1&&(S!==null&&(clearTimeout(S),S=null),v.innerLoading.value===!0&&(i("filterAbort"),v.innerLoading.value=!1,d.value=!1)))}function ze(r){v.editable.value===!0&&(g===!0?(v.onControlFocusin(r),o.value=!0,_e(()=>{v.focus()})):v.focus(),e.onFilter!==void 0?Fe(c.value):(Q.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function He(){o.value=!1,Pe()}function je(){e.useInput===!0&&Ge(e.multiple!==!0&&e.fillInput===!0&&D.value.length!==0&&se.value(D.value[0])||"",!0,!0)}function _t(r){let _=-1;if(r===!0){if(D.value.length!==0){const w=ye.value(D.value[0]);_=e.options.findIndex(E=>Ze(ye.value(E),w))}ue(_)}Be(_)}function Ii(r,_){l.value===!0&&v.innerLoading.value===!1&&(ue(-1,!0),_e(()=>{l.value===!0&&v.innerLoading.value===!1&&(r>_?ue():_t(!0))}))}function Pt(){o.value===!1&&G.value!==null&&G.value.updatePosition()}function zt(r){r!==void 0&&Re(r),i("popupShow",r),v.hasPopupOpen=!0,v.onControlFocusin(r)}function jt(r){r!==void 0&&Re(r),i("popupHide",r),v.hasPopupOpen=!1,v.onControlFocusout(r)}function Rt(){g=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||Q.value===!1:!0),Z=a.platform.is.ios===!0&&g===!0&&e.useInput===!0?"fade":e.transitionShow}return yl(Rt),wl(Pt),Rt(),st(()=>{m!==null&&clearTimeout(m),f!==null&&clearTimeout(f)}),Object.assign(n,{showPopup:ze,hidePopup:He,removeAtIndex:yt,add:Ot,toggleOption:Ae,getOptionIndex:()=>s.value,setOptionIndex:Be,moveOptionSelection:dt,filter:Fe,updateMenuPosition:Pt,updateInputValue:Ge,isOptionSelected:Dt,getEmittingOptionValue:Vt,isOptionDisabled:(...r)=>Ie.value.apply(null,r)===!0,getOptionValue:(...r)=>ye.value.apply(null,r),getOptionLabel:(...r)=>se.value.apply(null,r)}),Object.assign(v,{innerValue:D,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:j,targetRef:I,hasValue:K,showPopup:ze,floatingLabel:k(()=>e.hideSelected!==!0&&K.value===!0||typeof c.value=="number"||c.value.length!==0||Ut(e.displayValue)),getControlChild:()=>{if(v.editable.value!==!1&&(o.value===!0||Q.value!==!0||t["no-option"]!==void 0))return g===!0?Hi():Mi();v.hasPopupOpen===!0&&(v.hasPopupOpen=!1)},controlEvents:{onFocusin(r){v.onControlFocusin(r)},onFocusout(r){v.onControlFocusout(r,()=>{je(),Pe()})},onClick(r){if(lt(r),g!==!0&&l.value===!0){Pe(),I.value!==null&&I.value.focus();return}ze(r)}},getControl:r=>{const _=Ci(),w=r===!0||o.value!==!0||g!==!0;if(e.useInput===!0)_.push(Ti(r,w));else if(v.editable.value===!0){const P=w===!0?ot.value:void 0;_.push(A("input",{ref:w===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:w===!0?v.targetUid.value:void 0,value:ee.value,readonly:!0,"data-autofocus":r===!0||e.autofocus===!0||void 0,...P,onKeydown:Wt,onKeyup:Ht,onKeypress:$t})),w===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&_.push(A("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Lt}))}if(me.value!==void 0&&e.disable!==!0&&ut.value.length!==0){const P=ut.value.map(F=>A("option",{value:F,selected:!0}));_.push(A("select",{class:"hidden",name:me.value,multiple:e.multiple},P))}const E=e.useInput===!0||w!==!0?void 0:v.splitAttrs.attributes.value;return A("div",{class:"q-field__native row items-center",...E,...v.splitAttrs.listeners.value},_)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[A(vt,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Qe.value})]:null}),hi(v)}}),Jl=Object.defineProperty,en=(e,t,i)=>t in e?Jl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,be=(e,t,i)=>(en(e,typeof t!="symbol"?t+"":t,i),i);/**
  * vue-cal v4.8.1
  * (c) 2022 Antoni Andre <antoniandre.web@gmail.com>
  * @license MIT
  */let et,ri,ui,de,tt={},Ye={};class tn{constructor(t){be(this,"_vuecal",null),be(this,"selectCell",(i=!1,n,a)=>{this._vuecal.$emit("cell-click",a?{date:n,split:a}:n),this._vuecal.clickToNavigate||i?this._vuecal.switchToNarrowerView():this._vuecal.dblclickToNavigate&&"ontouchstart"in window&&(this._vuecal.domEvents.dblTapACell.taps++,setTimeout(()=>this._vuecal.domEvents.dblTapACell.taps=0,this._vuecal.domEvents.dblTapACell.timeout),this._vuecal.domEvents.dblTapACell.taps>=2&&(this._vuecal.domEvents.dblTapACell.taps=0,this._vuecal.switchToNarrowerView(),this._vuecal.$emit("cell-dblclick",a?{date:n,split:a}:n)))}),be(this,"keyPressEnterCell",(i,n)=>{this._vuecal.$emit("cell-keypress-enter",n?{date:i,split:n}:i),this._vuecal.switchToNarrowerView()}),be(this,"getPosition",i=>{const{left:n,top:a}=this._vuecal.cellsEl.getBoundingClientRect(),{clientX:l,clientY:o}="ontouchstart"in window&&i.touches?i.touches[0]:i;return{x:l-n,y:o-a}}),be(this,"minutesAtCursor",i=>{let n=0,a={x:0,y:0};const{timeStep:l,timeCellHeight:o,timeFrom:s}=this._vuecal.$props;return typeof i=="number"?n=i:typeof i=="object"&&(a=this.getPosition(i),n=Math.round(a.y*l/parseInt(o)+s)),{minutes:Math.max(Math.min(n,1440),0),cursorCoords:a}}),this._vuecal=t}}let q,Y,Et;class ln{constructor(t,i){be(this,"_vuecal",null),be(this,"eventDefaults",{_eid:null,start:"",startTimeMinutes:0,end:"",endTimeMinutes:0,title:"",content:"",background:!1,allDay:!1,segments:null,repeat:null,daysCount:1,deletable:!0,deleting:!1,titleEditable:!0,resizable:!0,resizing:!1,draggable:!0,dragging:!1,draggingStatic:!1,focused:!1,class:""}),this._vuecal=t,q=i}createAnEvent(t,i,n){if(typeof t=="string"&&(t=q.stringToDate(t)),!(t instanceof Date))return!1;const a=q.dateToMinutes(t),l=a+(i=1*i||120),o=q.addMinutes(new Date(t),i);n.end&&(typeof n.end=="string"&&(n.end=q.stringToDate(n.end)),n.endTimeMinutes=q.dateToMinutes(n.end));const s={...this.eventDefaults,_eid:`${this._vuecal._.uid}_${this._vuecal.eventIdIncrement++}`,start:t,startTimeMinutes:a,end:o,endTimeMinutes:l,segments:null,...n};return typeof this._vuecal.onEventCreate!="function"||this._vuecal.onEventCreate(s,()=>this.deleteAnEvent(s))?(s.startDateF!==s.endDateF&&(s.daysCount=q.countDays(s.start,s.end)),this._vuecal.mutableEvents.push(s),this._vuecal.addEventsToView([s]),this._vuecal.emitWithEvent("event-create",s),this._vuecal.$emit("event-change",{event:this._vuecal.cleanupEvent(s),originalEvent:null}),s):void 0}addEventSegment(t){t.segments||(t.segments={},t.segments[q.formatDateLite(t.start)]={start:t.start,startTimeMinutes:t.startTimeMinutes,endTimeMinutes:1440,isFirstDay:!0,isLastDay:!1});const i=t.segments[q.formatDateLite(t.end)];i&&(i.isLastDay=!1,i.endTimeMinutes=1440);const n=q.addDays(t.end,1),a=q.formatDateLite(n);return n.setHours(0,0,0,0),t.segments[a]={start:n,startTimeMinutes:0,endTimeMinutes:t.endTimeMinutes,isFirstDay:!1,isLastDay:!0},t.end=q.addMinutes(n,t.endTimeMinutes),t.daysCount=Object.keys(t.segments).length,a}removeEventSegment(t){let i=Object.keys(t.segments).length;if(i<=1)return q.formatDateLite(t.end);delete t.segments[q.formatDateLite(t.end)],i--;const n=q.subtractDays(t.end,1),a=q.formatDateLite(n),l=t.segments[a];return i?l&&(l.isLastDay=!0,l.endTimeMinutes=t.endTimeMinutes):t.segments=null,t.daysCount=i||1,t.end=n,a}createEventSegments(t,i,n){const a=i.getTime(),l=n.getTime();let o,s,c,u=t.start.getTime(),d=t.end.getTime(),m=!1;for(t.end.getHours()||t.end.getMinutes()||(d-=1e3),t.segments={},t.repeat?(o=a,s=Math.min(l,t.repeat.until?q.stringToDate(t.repeat.until).getTime():l)):(o=Math.max(a,u),s=Math.min(l,d));o<=s;){let f=!1;const h=q.addDays(new Date(o),1).setHours(0,0,0,0);let g,W,S,H;if(t.repeat){const Z=new Date(o),V=q.formatDateLite(Z);(m||t.occurrences&&t.occurrences[V])&&(m||(u=t.occurrences[V].start,c=new Date(u).setHours(0,0,0,0),d=t.occurrences[V].end),m=!0,f=!0),g=o===c,W=V===q.formatDateLite(new Date(d)),S=new Date(g?u:o),H=q.formatDateLite(S),W&&(m=!1)}else f=!0,g=o===u,W=s===d&&h>s,S=g?t.start:new Date(o),H=q.formatDateLite(g?t.start:S);f&&(t.segments[H]={start:S,startTimeMinutes:g?t.startTimeMinutes:0,endTimeMinutes:W?t.endTimeMinutes:1440,isFirstDay:g,isLastDay:W}),o=h}return t}deleteAnEvent(t){this._vuecal.emitWithEvent("event-delete",t),this._vuecal.mutableEvents=this._vuecal.mutableEvents.filter(i=>i._eid!==t._eid),this._vuecal.view.events=this._vuecal.view.events.filter(i=>i._eid!==t._eid)}checkCellOverlappingEvents(t,i){Et=t.slice(0),Y={},t.forEach(a=>{Et.shift(),Y[a._eid]||(Y[a._eid]={overlaps:[],start:a.start,position:0}),Y[a._eid].position=0,Et.forEach(l=>{Y[l._eid]||(Y[l._eid]={overlaps:[],start:l.start,position:0});const o=this.eventInRange(l,a.start,a.end),s=i.overlapsPerTimeStep?q.datesInSameTimeStep(a.start,l.start,i.timeStep):1;if(a.background||a.allDay||l.background||l.allDay||!o||!s){let c,u;(c=(Y[a._eid]||{overlaps:[]}).overlaps.indexOf(l._eid))>-1&&Y[a._eid].overlaps.splice(c,1),(u=(Y[l._eid]||{overlaps:[]}).overlaps.indexOf(a._eid))>-1&&Y[l._eid].overlaps.splice(u,1),Y[l._eid].position--}else Y[a._eid].overlaps.push(l._eid),Y[a._eid].overlaps=[...new Set(Y[a._eid].overlaps)],Y[l._eid].overlaps.push(a._eid),Y[l._eid].overlaps=[...new Set(Y[l._eid].overlaps)],Y[l._eid].position++})});let n=0;for(const a in Y){const l=Y[a],o=l.overlaps.map(s=>({id:s,start:Y[s].start}));o.push({id:a,start:l.start}),o.sort((s,c)=>s.start<c.start?-1:s.start>c.start?1:s.id>c.id?-1:1),l.position=o.findIndex(s=>s.id===a),n=Math.max(this.getOverlapsStreak(l,Y),n)}return[Y,n]}getOverlapsStreak(t,i={}){let n=t.overlaps.length+1,a=[];return t.overlaps.forEach(l=>{a.includes(l)||t.overlaps.filter(o=>o!==l).forEach(o=>{i[o].overlaps.includes(l)||a.push(o)})}),a=[...new Set(a)],n-=a.length,n}eventInRange(t,i,n){if(t.allDay||!this._vuecal.time){const o=new Date(t.start).setHours(0,0,0,0);return new Date(t.end).setHours(23,59,0,0)>=new Date(i).setHours(0,0,0,0)&&o<=new Date(n).setHours(0,0,0,0)}const a=t.start.getTime(),l=t.end.getTime();return a<n.getTime()&&l>i.getTime()}}const nn={class:"vuecal__flex vuecal__weekdays-headings"},an=["onClick"],sn={class:"vuecal__flex weekday-label",grow:""},on={class:"full"},rn={class:"small"},un={class:"xsmall"},dn={key:0},cn={key:0,class:"vuecal__flex vuecal__split-days-headers",grow:""},Ue=(e,t)=>{const i=e.__vccOpts||e;for(const[n,a]of t)i[n]=a;return i},Di=Ue({inject:["vuecal","utils","view"],props:{transitionDirection:{type:String,default:"right"},weekDays:{type:Array,default:()=>[]},switchToNarrowerView:{type:Function,default:()=>{}}},methods:{selectCell(e,t){e.getTime()!==this.view.selectedDate.getTime()&&(this.view.selectedDate=e),this.utils.cell.selectCell(!1,e,t)},cleanupHeading:e=>({label:e.full,date:e.date,...e.today?{today:e.today}:{}})},computed:{headings(){if(!["month","week"].includes(this.view.id))return[];let e=!1;return this.weekDays.map((t,i)=>{const n=this.utils.date.addDays(this.view.startDate,this.vuecal.startWeekOnSunday?i-1:i);return{hide:t.hide,full:t.label,small:t.short||t.label.substr(0,3),xsmall:t.short||t.label.substr(0,1),...this.view.id==="week"?{dayOfMonth:n.getDate(),date:n,today:!e&&this.utils.date.isToday(n)&&!e++}:{}}})},cellWidth(){return 100/(7-this.weekDays.reduce((e,t)=>e+t.hide,0))},weekdayCellStyles(){return{...this.vuecal.hideWeekdays.length?{width:`${this.cellWidth}%`}:{}}},cellHeadingsClickable(){return this.view.id==="week"&&(this.vuecal.clickToNavigate||this.vuecal.dblclickToNavigate)}}},[["render",function(e,t,i,n,a,l){return p(),b("div",nn,[(p(!0),b(ne,null,re(l.headings,(o,s)=>(p(),b(ne,{key:s},[o.hide?x("",!0):(p(),b("div",{key:0,class:ie(["vuecal__flex vuecal__heading",{today:o.today,clickable:l.cellHeadingsClickable}]),style:ce(l.weekdayCellStyles),onClick:c=>l.view.id==="week"&&l.selectCell(o.date,c),onDblclick:t[0]||(t[0]=c=>l.view.id==="week"&&l.vuecal.dblclickToNavigate&&i.switchToNarrowerView())},[Se(nt,{name:`slide-fade--${i.transitionDirection}`,appear:l.vuecal.transitions},{default:R(()=>[(p(),b("div",{class:"vuecal__flex",column:"",key:!!l.vuecal.transitions&&`${s}-${o.dayOfMonth}`},[U("div",sn,[$(e.$slots,"weekday-heading",{heading:l.cleanupHeading(o),view:l.view},()=>[U("span",on,N(o.full),1),U("span",rn,N(o.small),1),U("span",un,N(o.xsmall),1),o.dayOfMonth?(p(),b("span",dn,"\xA0"+N(o.dayOfMonth),1)):x("",!0)])]),l.vuecal.hasSplits&&l.vuecal.stickySplitLabels?(p(),b("div",cn,[(p(!0),b(ne,null,re(l.vuecal.daySplits,(c,u)=>(p(),b("div",{class:ie(["day-split-header",c.class||!1]),key:u},[$(e.$slots,"split-label",{split:c,view:l.view},()=>[oe(N(c.label),1)])],2))),128))])):x("",!0)]))]),_:2},1032,["name","appear"])],46,an))],64))),128))])}]]),vn={class:"vuecal__header"},hn={key:0,class:"vuecal__flex vuecal__menu",role:"tablist","aria-label":"Calendar views navigation"},mn=["onDragenter","onDragleave","onClick","aria-label"],fn={key:1,class:"vuecal__title-bar"},pn=["aria-label"],gn={class:"vuecal__flex vuecal__title",grow:""},yn=["aria-label"],wn={key:0,class:"vuecal__flex vuecal__split-days-headers"},Dn=Ue({inject:["vuecal","previous","next","switchView","updateSelectedDate","modules","view"],components:{WeekdaysHeadings:Di},props:{options:{type:Object,default:()=>({})},editEvents:{type:Object,required:!0},hasSplits:{type:[Boolean,Number],default:!1},daySplits:{type:Array,default:()=>[]},viewProps:{type:Object,default:()=>({})},weekDays:{type:Array,default:()=>[]},switchToNarrowerView:{type:Function,default:()=>{}}},data:()=>({highlightedControl:null}),methods:{goToToday(){this.updateSelectedDate(new Date(new Date().setHours(0,0,0,0)))},switchToBroaderView(){this.transitionDirection="left",this.broaderView&&this.switchView(this.broaderView)}},computed:{transitionDirection:{get(){return this.vuecal.transitionDirection},set(e){this.vuecal.transitionDirection=e}},broaderView(){const{enabledViews:e}=this.vuecal;return e[e.indexOf(this.view.id)-1]},showDaySplits(){return this.view.id==="day"&&this.hasSplits&&this.options.stickySplitLabels&&!this.options.minSplitWidth},dnd(){return this.modules.dnd}}},[["render",function(e,t,i,n,a,l){const o=Le("weekdays-headings");return p(),b("div",vn,[i.options.hideViewSelector?x("",!0):(p(),b("div",hn,[(p(!0),b(ne,null,re(i.viewProps.views,(s,c)=>(p(),b(ne,{key:c},[s.enabled?(p(),b("button",{key:0,class:ie(["vuecal__view-btn",{"vuecal__view-btn--active":l.view.id===c,"vuecal__view-btn--highlighted":e.highlightedControl===c}]),type:"button",onDragenter:u=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragEnter(u,c,e.$data),onDragleave:u=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragLeave(u,c,e.$data),onClick:u=>l.switchView(c,null,!0),"aria-label":`${s.label} view`},N(s.label),43,mn)):x("",!0)],64))),128))])),i.options.hideTitleBar?x("",!0):(p(),b("div",fn,[U("button",{class:ie(["vuecal__arrow vuecal__arrow--prev",{"vuecal__arrow--highlighted":e.highlightedControl==="previous"}]),type:"button",onClick:t[0]||(t[0]=(...s)=>l.previous&&l.previous(...s)),onDragenter:t[1]||(t[1]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragEnter(s,"previous",e.$data)),onDragleave:t[2]||(t[2]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragLeave(s,"previous",e.$data)),"aria-label":`Previous ${l.view.id}`},[$(e.$slots,"arrow-prev")],42,pn),U("div",gn,[Se(nt,{name:i.options.transitions?`slide-fade--${l.transitionDirection}`:""},{default:R(()=>[(p(),we(kl(l.broaderView?"button":"span"),{type:!!l.broaderView&&"button",key:`${l.view.id}${l.view.startDate.toString()}`,onClick:t[3]||(t[3]=s=>!!l.broaderView&&l.switchToBroaderView()),"aria-label":!!l.broaderView&&`Go to ${l.broaderView} view`},{default:R(()=>[$(e.$slots,"title")]),_:3},8,["type","aria-label"]))]),_:3},8,["name"])]),i.options.todayButton?(p(),b("button",{key:0,class:ie(["vuecal__today-btn",{"vuecal__today-btn--highlighted":e.highlightedControl==="today"}]),type:"button",onClick:t[4]||(t[4]=(...s)=>l.goToToday&&l.goToToday(...s)),onDragenter:t[5]||(t[5]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragEnter(s,"today",e.$data)),onDragleave:t[6]||(t[6]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragLeave(s,"today",e.$data)),"aria-label":"Today"},[$(e.$slots,"today-button")],34)):x("",!0),U("button",{class:ie(["vuecal__arrow vuecal__arrow--next",{"vuecal__arrow--highlighted":e.highlightedControl==="next"}]),type:"button",onClick:t[7]||(t[7]=(...s)=>l.next&&l.next(...s)),onDragenter:t[8]||(t[8]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragEnter(s,"next",e.$data)),onDragleave:t[9]||(t[9]=s=>i.editEvents.drag&&l.dnd&&l.dnd.viewSelectorDragLeave(s,"next",e.$data)),"aria-label":`Next ${l.view.id}`},[$(e.$slots,"arrow-next")],42,yn)])),i.viewProps.weekDaysInHeader?(p(),we(o,{key:2,"week-days":i.weekDays,"transition-direction":l.transitionDirection,"switch-to-narrower-view":i.switchToNarrowerView},Tt({_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:R(({heading:s,view:c})=>[$(e.$slots,"weekday-heading",{heading:s,view:c})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:R(({split:s})=>[$(e.$slots,"split-label",{split:s,view:l.view})]),key:"1"}:void 0]),1032,["week-days","transition-direction","switch-to-narrower-view"])):x("",!0),Se(nt,{name:`slide-fade--${l.transitionDirection}`},{default:R(()=>[l.showDaySplits?(p(),b("div",wn,[(p(!0),b(ne,null,re(i.daySplits,(s,c)=>(p(),b("div",{class:ie(["day-split-header",s.class||!1]),key:c},[$(e.$slots,"split-label",{split:s,view:l.view.id},()=>[oe(N(s.label),1)])],2))),128))])):x("",!0)]),_:3},8,["name"])])}]]),_n=["draggable"],bn={inject:["vuecal","utils","modules","view","domEvents","editEvents"],props:{cellFormattedDate:{type:String,default:""},event:{type:Object,default:()=>({})},cellEvents:{type:Array,default:()=>[]},overlaps:{type:Array,default:()=>[]},eventPosition:{type:Number,default:0},overlapsStreak:{type:Number,default:0},allDay:{type:Boolean,default:!1}},data:()=>({touch:{dragThreshold:30,startX:0,startY:0,dragged:!1}}),methods:{onMouseDown(e,t=!1){if("ontouchstart"in window&&!t)return!1;const{clickHoldAnEvent:i,focusAnEvent:n,resizeAnEvent:a,dragAnEvent:l}=this.domEvents;if(n._eid===this.event._eid&&i._eid===this.event._eid)return!0;this.focusEvent(),i._eid=null,this.vuecal.editEvents.delete&&this.event.deletable&&(i.timeoutId=setTimeout(()=>{a._eid||l._eid||(i._eid=this.event._eid,this.event.deleting=!0)},i.timeout))},onMouseUp(e){this.domEvents.focusAnEvent._eid!==this.event._eid||this.touch.dragged||(this.domEvents.focusAnEvent.mousedUp=!0),this.touch.dragged=!1},onMouseEnter(e){e.preventDefault(),this.vuecal.emitWithEvent("event-mouse-enter",this.event)},onMouseLeave(e){e.preventDefault(),this.vuecal.emitWithEvent("event-mouse-leave",this.event)},onTouchMove(e){if(typeof this.vuecal.onEventClick!="function")return;const{clientX:t,clientY:i}=e.touches[0],{startX:n,startY:a,dragThreshold:l}=this.touch;(Math.abs(t-n)>l||Math.abs(i-a)>l)&&(this.touch.dragged=!0)},onTouchStart(e){this.touch.startX=e.touches[0].clientX,this.touch.startY=e.touches[0].clientY,this.onMouseDown(e,!0)},onEnterKeypress(e){if(typeof this.vuecal.onEventClick=="function")return this.vuecal.onEventClick(this.event,e)},onDblClick(e){if(typeof this.vuecal.onEventDblclick=="function")return this.vuecal.onEventDblclick(this.event,e)},onDragStart(e){this.dnd&&this.dnd.eventDragStart(e,this.event)},onDragEnd(){this.dnd&&this.dnd.eventDragEnd(this.event)},onResizeHandleMouseDown(){this.focusEvent(),this.domEvents.dragAnEvent._eid=null,this.domEvents.resizeAnEvent=Object.assign(this.domEvents.resizeAnEvent,{_eid:this.event._eid,start:(this.segment||this.event).start,split:this.event.split||null,segment:!!this.segment&&this.utils.date.formatDateLite(this.segment.start),originalEnd:new Date((this.segment||this.event).end),originalEndTimeMinutes:this.event.endTimeMinutes}),this.event.resizing=!0},deleteEvent(e=!1){if("ontouchstart"in window&&!e)return!1;this.utils.event.deleteAnEvent(this.event)},touchDeleteEvent(e){this.deleteEvent(!0)},cancelDeleteEvent(){this.event.deleting=!1},focusEvent(){const{focusAnEvent:e}=this.domEvents,t=e._eid;if(t!==this.event._eid){if(t){const i=this.view.events.find(n=>n._eid===t);i&&(i.focused=!1)}this.vuecal.cancelDelete(),this.vuecal.emitWithEvent("event-focus",this.event),e._eid=this.event._eid,this.event.focused=!0}}},computed:{eventDimensions(){const{startTimeMinutes:e,endTimeMinutes:t}=this.segment||this.event;let i=e-this.vuecal.timeFrom;const n=Math.max(Math.round(i*this.vuecal.timeCellHeight/this.vuecal.timeStep),0);i=Math.min(t,this.vuecal.timeTo)-this.vuecal.timeFrom;const a=Math.round(i*this.vuecal.timeCellHeight/this.vuecal.timeStep);return{top:n,height:Math.max(a-n,5)}},eventStyles(){if(this.event.allDay||!this.vuecal.time||!this.event.endTimeMinutes||this.view.id==="month"||this.allDay)return{};let e=100/Math.min(this.overlaps.length+1,this.overlapsStreak),t=100/(this.overlaps.length+1)*this.eventPosition;this.vuecal.minEventWidth&&e<this.vuecal.minEventWidth&&(e=this.vuecal.minEventWidth,t=(100-this.vuecal.minEventWidth)/this.overlaps.length*this.eventPosition);const{top:i,height:n}=this.eventDimensions;return{top:`${i}px`,height:`${n}px`,width:`${e}%`,left:this.event.left&&`${this.event.left}px`||`${t}%`}},eventClasses(){const{isFirstDay:e,isLastDay:t}=this.segment||{};return{[this.event.class]:!!this.event.class,"vuecal__event--focus":this.event.focused,"vuecal__event--resizing":this.event.resizing,"vuecal__event--background":this.event.background,"vuecal__event--deletable":this.event.deleting,"vuecal__event--all-day":this.event.allDay,"vuecal__event--dragging":!this.event.draggingStatic&&this.event.dragging,"vuecal__event--static":this.event.dragging&&this.event.draggingStatic,"vuecal__event--multiple-days":!!this.segment,"event-start":this.segment&&e&&!t,"event-middle":this.segment&&!e&&!t,"event-end":this.segment&&t&&!e}},segment(){return this.event.segments&&this.event.segments[this.cellFormattedDate]||null},draggable(){const{draggable:e,background:t,daysCount:i}=this.event;return this.vuecal.editEvents.drag&&e&&!t&&i===1},resizable(){const{editEvents:e,time:t}=this.vuecal;return e.resize&&this.event.resizable&&t&&!this.allDay&&(!this.segment||this.segment&&this.segment.isLastDay)&&this.view.id!=="month"},dnd(){return this.modules.dnd}}},Sn=["data-split","aria-label","onTouchstart","onMousedown","onDragover","onDrop"],kn={key:0,class:"cell-time-labels"},En=["innerHTML"],Cn={key:2,class:"vuecal__cell-events"},Tn=["title"],_i=Ue({inject:["vuecal","utils","modules","view","domEvents"],components:{Event:Ue(bn,[["render",function(e,t,i,n,a,l){return p(),b("div",{class:ie(["vuecal__event",l.eventClasses]),style:ce(l.eventStyles),tabindex:"0",onFocus:t[4]||(t[4]=(...o)=>l.focusEvent&&l.focusEvent(...o)),onKeypress:t[5]||(t[5]=Kt(qe((...o)=>l.onEnterKeypress&&l.onEnterKeypress(...o),["stop"]),["enter"])),onMouseenter:t[6]||(t[6]=(...o)=>l.onMouseEnter&&l.onMouseEnter(...o)),onMouseleave:t[7]||(t[7]=(...o)=>l.onMouseLeave&&l.onMouseLeave(...o)),onTouchstart:t[8]||(t[8]=qe((...o)=>l.onTouchStart&&l.onTouchStart(...o),["stop"])),onMousedown:t[9]||(t[9]=o=>l.onMouseDown(o)),onMouseup:t[10]||(t[10]=(...o)=>l.onMouseUp&&l.onMouseUp(...o)),onTouchend:t[11]||(t[11]=(...o)=>l.onMouseUp&&l.onMouseUp(...o)),onTouchmove:t[12]||(t[12]=(...o)=>l.onTouchMove&&l.onTouchMove(...o)),onDblclick:t[13]||(t[13]=(...o)=>l.onDblClick&&l.onDblClick(...o)),draggable:l.draggable,onDragstart:t[14]||(t[14]=o=>l.draggable&&l.onDragStart(o)),onDragend:t[15]||(t[15]=o=>l.draggable&&l.onDragEnd())},[l.vuecal.editEvents.delete&&i.event.deletable?(p(),b("div",{key:0,class:"vuecal__event-delete",onClick:t[0]||(t[0]=qe((...o)=>l.deleteEvent&&l.deleteEvent(...o),["stop"])),onTouchstart:t[1]||(t[1]=qe((...o)=>l.touchDeleteEvent&&l.touchDeleteEvent(...o),["stop"]))},N(l.vuecal.texts.deleteEvent),33)):x("",!0),$(e.$slots,"event",{event:i.event,view:l.view.id}),l.resizable?(p(),b("div",{key:1,class:"vuecal__event-resize-handle",contenteditable:"false",onMousedown:t[2]||(t[2]=qe((...o)=>l.onResizeHandleMouseDown&&l.onResizeHandleMouseDown(...o),["stop","prevent"])),onTouchstart:t[3]||(t[3]=qe((...o)=>l.onResizeHandleMouseDown&&l.onResizeHandleMouseDown(...o),["stop","prevent"]))},null,32)):x("",!0)],46,_n)}]])},props:{options:{type:Object,default:()=>({})},editEvents:{type:Object,required:!0},data:{type:Object,required:!0},cellSplits:{type:Array,default:()=>[]},minTimestamp:{type:[Number,null],default:null},maxTimestamp:{type:[Number,null],default:null},cellWidth:{type:[Number,Boolean],default:!1},allDay:{type:Boolean,default:!1}},data:()=>({cellOverlaps:{},cellOverlapsStreak:1,timeAtCursor:null,highlighted:!1,highlightedSplit:null}),methods:{getSplitAtCursor({target:e}){let t=e.classList.contains("vuecal__cell-split")?e:this.vuecal.findAncestor(e,"vuecal__cell-split");return t&&(t=t.attributes["data-split"].value,parseInt(t).toString()===t.toString()&&(t=parseInt(t))),t||null},splitClasses(e){return{"vuecal__cell-split":!0,"vuecal__cell-split--highlighted":this.highlightedSplit===e.id,[e.class]:!!e.class}},checkCellOverlappingEvents(){this.options.time&&this.eventsCount&&!this.splitsCount&&(this.eventsCount===1?(this.cellOverlaps=[],this.cellOverlapsStreak=1):[this.cellOverlaps,this.cellOverlapsStreak]=this.utils.event.checkCellOverlappingEvents(this.events,this.options))},isDOMElementAnEvent(e){return this.vuecal.isDOMElementAnEvent(e)},selectCell(e,t=!1){const i=this.splitsCount?this.getSplitAtCursor(e):null;this.utils.cell.selectCell(t,this.timeAtCursor,i),this.timeAtCursor=null},onCellkeyPressEnter(e){this.isSelected||this.onCellFocus(e);const t=this.splitsCount?this.getSplitAtCursor(e):null;this.utils.cell.keyPressEnterCell(this.timeAtCursor,t),this.timeAtCursor=null},onCellFocus(e){if(!this.isSelected&&!this.isDisabled){this.isSelected=this.data.startDate;const t=this.splitsCount?this.getSplitAtCursor(e):null,i=this.timeAtCursor||this.data.startDate;this.vuecal.$emit("cell-focus",t?{date:i,split:t}:i)}},onCellMouseDown(e,t=null,i=!1){if("ontouchstart"in window&&!i)return!1;this.isSelected||this.onCellFocus(e);const{clickHoldACell:n,focusAnEvent:a}=this.domEvents;this.domEvents.cancelClickEventCreation=!1,n.eventCreated=!1,this.timeAtCursor=new Date(this.data.startDate);const{minutes:l,cursorCoords:{y:o}}=this.vuecal.minutesAtCursor(e);this.timeAtCursor.setMinutes(l);const s=this.isDOMElementAnEvent(e.target);!s&&a._eid&&((this.view.events.find(c=>c._eid===a._eid)||{}).focused=!1),this.editEvents.create&&!s&&this.setUpEventCreation(e,o)},setUpEventCreation(e,t){if(this.options.dragToCreateEvent&&["week","day"].includes(this.view.id)){const{dragCreateAnEvent:i}=this.domEvents;if(i.startCursorY=t,i.split=this.splitsCount?this.getSplitAtCursor(e):null,i.start=this.timeAtCursor,this.options.snapToTime){let n=60*this.timeAtCursor.getHours()+this.timeAtCursor.getMinutes();const a=n+this.options.snapToTime/2;n=a-a%this.options.snapToTime,i.start.setHours(0,n,0,0)}}else this.options.cellClickHold&&["month","week","day"].includes(this.view.id)&&this.setUpCellHoldTimer(e)},setUpCellHoldTimer(e){const{clickHoldACell:t}=this.domEvents;t.cellId=`${this.vuecal._.uid}_${this.data.formattedDate}`,t.split=this.splitsCount?this.getSplitAtCursor(e):null,t.timeoutId=setTimeout(()=>{if(t.cellId&&!this.domEvents.cancelClickEventCreation){const{_eid:i}=this.utils.event.createAnEvent(this.timeAtCursor,null,t.split?{split:t.split}:{});t.eventCreated=i}},t.timeout)},onCellTouchStart(e,t=null){this.onCellMouseDown(e,t,!0)},onCellClick(e){this.isDOMElementAnEvent(e.target)||this.selectCell(e)},onCellDblClick(e){const t=new Date(this.data.startDate);t.setMinutes(this.vuecal.minutesAtCursor(e).minutes);const i=this.splitsCount?this.getSplitAtCursor(e):null;this.vuecal.$emit("cell-dblclick",i?{date:t,split:i}:t),this.options.dblclickToNavigate&&this.vuecal.switchToNarrowerView()},onCellContextMenu(e){e.stopPropagation(),e.preventDefault();const t=new Date(this.data.startDate),{cursorCoords:i,minutes:n}=this.vuecal.minutesAtCursor(e);t.setMinutes(n);const a=this.splitsCount?this.getSplitAtCursor(e):null;this.vuecal.$emit("cell-contextmenu",{date:t,...i,...a||{},e})}},computed:{dnd(){return this.modules.dnd},nowInMinutes(){return this.utils.date.dateToMinutes(this.vuecal.now)},isBeforeMinDate(){return this.minTimestamp!==null&&this.minTimestamp>this.data.endDate.getTime()},isAfterMaxDate(){return this.maxTimestamp&&this.maxTimestamp<this.data.startDate.getTime()},isDisabled(){const{disableDays:e}=this.options,{isYearsOrYearView:t}=this.vuecal;return!(!e.length||!e.includes(this.data.formattedDate)||t)||this.isBeforeMinDate||this.isAfterMaxDate},isSelected:{get(){let e=!1;const{selectedDate:t}=this.view;return e=this.view.id==="years"?t.getFullYear()===this.data.startDate.getFullYear():this.view.id==="year"?t.getFullYear()===this.data.startDate.getFullYear()&&t.getMonth()===this.data.startDate.getMonth():t.getTime()===this.data.startDate.getTime(),e},set(e){this.view.selectedDate=e,this.vuecal.$emit("update:selected-date",this.view.selectedDate)}},isWeekOrDayView(){return["week","day"].includes(this.view.id)},transitionDirection(){return this.vuecal.transitionDirection},specialHours(){return this.data.specialHours.map(e=>{let{from:t,to:i}=e;return t=Math.max(t,this.options.timeFrom),i=Math.min(i,this.options.timeTo),{...e,height:(i-t)*this.timeScale,top:(t-this.options.timeFrom)*this.timeScale}})},events(){const{startDate:e,endDate:t}=this.data;let i=[];if(!["years","year"].includes(this.view.id)||this.options.eventsCountOnYearView){if(i=this.view.events.slice(0),this.view.id==="month"&&i.push(...this.view.outOfScopeEvents),i=i.filter(n=>this.utils.event.eventInRange(n,e,t)),this.options.showAllDayEvents&&this.view.id!=="month"&&(i=i.filter(n=>!!n.allDay===this.allDay)),this.options.time&&this.isWeekOrDayView&&!this.allDay){const{timeFrom:n,timeTo:a}=this.options;i=i.filter(l=>{const o=l.daysCount>1&&l.segments[this.data.formattedDate]||{},s=l.daysCount===1&&l.startTimeMinutes<a&&l.endTimeMinutes>n,c=l.daysCount>1&&o.startTimeMinutes<a&&o.endTimeMinutes>n;return l.allDay||s||c||!1})}!this.options.time||!this.isWeekOrDayView||this.options.showAllDayEvents&&this.allDay||i.sort((n,a)=>n.start<a.start?-1:1),this.cellSplits.length||this.$nextTick(this.checkCellOverlappingEvents)}return i},eventsCount(){return this.events.length},splits(){return this.cellSplits.map((e,t)=>{const i=this.events.filter(l=>l.split===e.id),[n,a]=this.utils.event.checkCellOverlappingEvents(i.filter(l=>!l.background&&!l.allDay),this.options);return{...e,overlaps:n,overlapsStreak:a,events:i}})},splitsCount(){return this.splits.length},cellClasses(){return{[this.data.class]:!!this.data.class,"vuecal__cell--current":this.data.current,"vuecal__cell--today":this.data.today,"vuecal__cell--out-of-scope":this.data.outOfScope,"vuecal__cell--before-min":this.isDisabled&&this.isBeforeMinDate,"vuecal__cell--after-max":this.isDisabled&&this.isAfterMaxDate,"vuecal__cell--disabled":this.isDisabled,"vuecal__cell--selected":this.isSelected,"vuecal__cell--highlighted":this.highlighted,"vuecal__cell--has-splits":this.splitsCount,"vuecal__cell--has-events":this.eventsCount}},cellStyles(){return{...this.cellWidth?{width:`${this.cellWidth}%`}:{}}},timelineVisible(){const{time:e,timeTo:t}=this.options;return this.data.today&&this.isWeekOrDayView&&e&&!this.allDay&&this.nowInMinutes<=t},todaysTimePosition(){if(!this.data.today||!this.options.time)return;const e=this.nowInMinutes-this.options.timeFrom;return Math.round(e*this.timeScale)},timeScale(){return this.options.timeCellHeight/this.options.timeStep}}},[["render",function(e,t,i,n,a,l){const o=Le("event");return p(),we(El,{class:ie(["vuecal__cell",l.cellClasses]),name:`slide-fade--${l.transitionDirection}`,tag:"div",appear:i.options.transitions,style:ce(l.cellStyles)},{default:R(()=>[(p(!0),b(ne,null,re(l.splitsCount?l.splits:1,(s,c)=>(p(),b("div",{class:ie(["vuecal__flex vuecal__cell-content",l.splitsCount&&l.splitClasses(s)]),key:i.options.transitions?`${l.view.id}-${i.data.content}-${c}`:c,"data-split":!!l.splitsCount&&s.id,column:"",tabindex:"0","aria-label":i.data.content,onFocus:t[0]||(t[0]=u=>l.onCellFocus(u)),onKeypress:t[1]||(t[1]=Kt(u=>l.onCellkeyPressEnter(u),["enter"])),onTouchstart:u=>!l.isDisabled&&l.onCellTouchStart(u,l.splitsCount?s.id:null),onMousedown:u=>!l.isDisabled&&l.onCellMouseDown(u,l.splitsCount?s.id:null),onClick:t[2]||(t[2]=u=>!l.isDisabled&&l.onCellClick(u)),onDblclick:t[3]||(t[3]=u=>!l.isDisabled&&l.onCellDblClick(u)),onContextmenu:t[4]||(t[4]=u=>!l.isDisabled&&i.options.cellContextmenu&&l.onCellContextMenu(u)),onDragenter:t[5]||(t[5]=u=>!l.isDisabled&&i.editEvents.drag&&l.dnd&&l.dnd.cellDragEnter(u,e.$data,i.data.startDate)),onDragover:u=>!l.isDisabled&&i.editEvents.drag&&l.dnd&&l.dnd.cellDragOver(u,e.$data,i.data.startDate,l.splitsCount?s.id:null),onDragleave:t[6]||(t[6]=u=>!l.isDisabled&&i.editEvents.drag&&l.dnd&&l.dnd.cellDragLeave(u,e.$data,i.data.startDate)),onDrop:u=>!l.isDisabled&&i.editEvents.drag&&l.dnd&&l.dnd.cellDragDrop(u,e.$data,i.data.startDate,l.splitsCount?s.id:null)},[i.options.showTimeInCells&&i.options.time&&l.isWeekOrDayView&&!i.allDay?(p(),b("div",kn,[(p(!0),b(ne,null,re(l.vuecal.timeCells,(u,d)=>(p(),b("span",{class:"cell-time-label",key:d},N(u.label),1))),128))])):x("",!0),l.isWeekOrDayView&&!i.allDay&&l.specialHours.length?(p(!0),b(ne,{key:1},re(l.specialHours,(u,d)=>(p(),b("div",{class:ie(["vuecal__special-hours",`vuecal__special-hours--day${u.day} ${u.class}`]),style:ce(`height: ${u.height}px;top: ${u.top}px`)},[u.label?(p(),b("div",{key:0,class:"special-hours-label",innerHTML:u.label},null,8,En)):x("",!0)],6))),256)):x("",!0),$(e.$slots,"cell-content",{events:l.events,selectCell:u=>l.selectCell(u,!0),split:!!l.splitsCount&&s}),l.eventsCount&&(l.isWeekOrDayView||l.view.id==="month"&&i.options.eventsOnMonthView)?(p(),b("div",Cn,[(p(!0),b(ne,null,re(l.splitsCount?s.events:l.events,(u,d)=>(p(),we(o,{key:d,"cell-formatted-date":i.data.formattedDate,event:u,"all-day":i.allDay,"cell-events":l.splitsCount?s.events:l.events,overlaps:((l.splitsCount?s.overlaps[u._eid]:e.cellOverlaps[u._eid])||[]).overlaps,"event-position":((l.splitsCount?s.overlaps[u._eid]:e.cellOverlaps[u._eid])||[]).position,"overlaps-streak":l.splitsCount?s.overlapsStreak:e.cellOverlapsStreak},{event:R(({event:m,view:f})=>[$(e.$slots,"event",{view:f,event:m})]),_:2},1032,["cell-formatted-date","event","all-day","cell-events","overlaps","event-position","overlaps-streak"]))),128))])):x("",!0)],42,Sn))),128)),l.timelineVisible?(p(),b("div",{class:"vuecal__now-line",style:ce(`top: ${l.todaysTimePosition}px`),key:i.options.transitions?`${l.view.id}-now-line`:"now-line",title:l.utils.date.formatTime(l.vuecal.now)},null,12,Tn)):x("",!0)]),_:3},8,["class","name","appear","style"])}]]),Mn={key:0,class:"vuecal__all-day-text",style:{width:"3em"}},xn=Ue({inject:["vuecal","view","editEvents"],components:{"vuecal-cell":_i},props:{options:{type:Object,required:!0},cells:{type:Array,required:!0},label:{type:String,required:!0},daySplits:{type:Array,default:()=>[]},shortEvents:{type:Boolean,default:!0},height:{type:String,default:""},cellOrSplitMinWidth:{type:Number,default:null}},computed:{hasCellOrSplitWidth(){return!!(this.options.minCellWidth||this.daySplits.length&&this.options.minSplitWidth)}}},[["render",function(e,t,i,n,a,l){const o=Le("vuecal-cell");return p(),b("div",{class:"vuecal__flex vuecal__all-day",style:ce(i.cellOrSplitMinWidth&&{height:i.height})},[i.cellOrSplitMinWidth?x("",!0):(p(),b("div",Mn,[U("span",null,N(i.label),1)])),U("div",{class:ie(["vuecal__flex vuecal__cells",`${l.view.id}-view`]),grow:"",style:ce(i.cellOrSplitMinWidth?`min-width: ${i.cellOrSplitMinWidth}px`:"")},[(p(!0),b(ne,null,re(i.cells,(s,c)=>(p(),we(o,{key:c,options:i.options,"edit-events":l.editEvents,data:s,"all-day":!0,"cell-width":i.options.hideWeekdays.length&&(l.vuecal.isWeekView||l.vuecal.isMonthView)&&l.vuecal.cellWidth,"min-timestamp":i.options.minTimestamp,"max-timestamp":i.options.maxTimestamp,"cell-splits":i.daySplits},{event:R(({event:u,view:d})=>[$(e.$slots,"event",{view:d,event:u})]),_:2},1032,["options","edit-events","data","cell-width","min-timestamp","max-timestamp","cell-splits"]))),128))],6)],4)}]]),Vn=["lang"],On=U("i",{class:"angle"},null,-1),An=U("i",{class:"angle"},null,-1),Hn={class:"default"},Ln={key:0,class:"vuecal__flex vuecal__body",grow:""},$n=["onBlur","innerHTML"],Wn=["innerHTML"],In=["innerHTML"],Bn={class:"vuecal__flex",row:"",grow:""},Fn={key:0,class:"vuecal__time-column"},Pn=U("span",{class:"vuecal__time-cell-line"},null,-1),zn={class:"vuecal__time-cell-label"},jn={key:1,class:"vuecal__flex vuecal__week-numbers",column:""},Rn=["wrap","column"],qn=["onBlur","innerHTML"],Yn=["innerHTML"],Nn=["innerHTML"],Un=["wrap"],Kn=["innerHTML"],Qn=["innerHTML"],Xn={key:2,class:"vuecal__cell-events-count"},Gn={key:3,class:"vuecal__no-event"},Zn=["onBlur","innerHTML"],Jn=["innerHTML"],ea={key:2,class:"vuecal__event-time"},ta={key:0},ia={key:1,class:"days-to-end"},la=["innerHTML"],na={key:0,class:"vuecal__scrollbar-check"},aa=[U("div",null,null,-1)],it={weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm"},di=["years","year","month","week","day"],ci=new class{constructor(e,t=!1){be(this,"texts",{}),be(this,"dateToMinutes",i=>60*i.getHours()+i.getMinutes()),de=this,this._texts=e,t||!Date||Date.prototype.addDays||this._initDatePrototypes()}_initDatePrototypes(){Date.prototype.addDays=function(e){return de.addDays(this,e)},Date.prototype.subtractDays=function(e){return de.subtractDays(this,e)},Date.prototype.addHours=function(e){return de.addHours(this,e)},Date.prototype.subtractHours=function(e){return de.subtractHours(this,e)},Date.prototype.addMinutes=function(e){return de.addMinutes(this,e)},Date.prototype.subtractMinutes=function(e){return de.subtractMinutes(this,e)},Date.prototype.getWeek=function(){return de.getWeek(this)},Date.prototype.isToday=function(){return de.isToday(this)},Date.prototype.isLeapYear=function(){return de.isLeapYear(this)},Date.prototype.format=function(e="YYYY-MM-DD"){return de.formatDate(this,e)},Date.prototype.formatTime=function(e="HH:mm"){return de.formatTime(this,e)}}removePrototypes(){delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime}updateTexts(e){this._texts=e}_todayFormatted(){return ri!==new Date().getDate()&&(et=new Date,ri=et.getDate(),ui=`${et.getFullYear()}-${et.getMonth()}-${et.getDate()}`),ui}addDays(e,t){const i=new Date(e.valueOf());return i.setDate(i.getDate()+t),i}subtractDays(e,t){const i=new Date(e.valueOf());return i.setDate(i.getDate()-t),i}addHours(e,t){const i=new Date(e.valueOf());return i.setHours(i.getHours()+t),i}subtractHours(e,t){const i=new Date(e.valueOf());return i.setHours(i.getHours()-t),i}addMinutes(e,t){const i=new Date(e.valueOf());return i.setMinutes(i.getMinutes()+t),i}subtractMinutes(e,t){const i=new Date(e.valueOf());return i.setMinutes(i.getMinutes()-t),i}getWeek(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),i=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-i);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)}isToday(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`===this._todayFormatted()}isLeapYear(e){const t=e.getFullYear();return!(t%400)||t%100&&!(t%4)}getPreviousFirstDayOfWeek(e=null,t){const i=e&&new Date(e.valueOf())||new Date,n=t?7:6;return i.setDate(i.getDate()-(i.getDay()+n)%7),i}stringToDate(e){return e instanceof Date?e:(e.length===10&&(e+=" 00:00"),new Date(e.replace(/-/g,"/")))}countDays(e,t){typeof e=="string"&&(e=e.replace(/-/g,"/")),typeof t=="string"&&(t=t.replace(/-/g,"/")),e=new Date(e).setHours(0,0,0,0),t=new Date(t).setHours(0,0,1,0);const i=60*(new Date(t).getTimezoneOffset()-new Date(e).getTimezoneOffset())*1e3;return Math.ceil((t-e-i)/864e5)}datesInSameTimeStep(e,t,i){return Math.abs(e.getTime()-t.getTime())<=60*i*1e3}formatDate(e,t="YYYY-MM-DD",i=null){if(i||(i=this._texts),t||(t="YYYY-MM-DD"),t==="YYYY-MM-DD")return this.formatDateLite(e);tt={},Ye={};const n={YYYY:()=>this._hydrateDateObject(e,i).YYYY,YY:()=>this._hydrateDateObject(e,i).YY(),M:()=>this._hydrateDateObject(e,i).M,MM:()=>this._hydrateDateObject(e,i).MM(),MMM:()=>this._hydrateDateObject(e,i).MMM(),MMMM:()=>this._hydrateDateObject(e,i).MMMM(),MMMMG:()=>this._hydrateDateObject(e,i).MMMMG(),D:()=>this._hydrateDateObject(e,i).D,DD:()=>this._hydrateDateObject(e,i).DD(),S:()=>this._hydrateDateObject(e,i).S(),d:()=>this._hydrateDateObject(e,i).d,dd:()=>this._hydrateDateObject(e,i).dd(),ddd:()=>this._hydrateDateObject(e,i).ddd(),dddd:()=>this._hydrateDateObject(e,i).dddd(),HH:()=>this._hydrateTimeObject(e,i).HH,H:()=>this._hydrateTimeObject(e,i).H,hh:()=>this._hydrateTimeObject(e,i).hh,h:()=>this._hydrateTimeObject(e,i).h,am:()=>this._hydrateTimeObject(e,i).am,AM:()=>this._hydrateTimeObject(e,i).AM,mm:()=>this._hydrateTimeObject(e,i).mm,m:()=>this._hydrateTimeObject(e,i).m};return t.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(a,l)=>{const o=n[l.replace(/\{|\}/g,"")];return o!==void 0?o():l})}formatDateLite(e){const t=e.getMonth()+1,i=e.getDate();return`${e.getFullYear()}-${t<10?"0":""}${t}-${i<10?"0":""}${i}`}formatTime(e,t="HH:mm",i=null,n=!1){let a=!1;if(n){const[s,c,u]=[e.getHours(),e.getMinutes(),e.getSeconds()];s+c+u===141&&(a=!0)}if(e instanceof Date&&t==="HH:mm")return a?"24:00":this.formatTimeLite(e);Ye={},i||(i=this._texts);const l=this._hydrateTimeObject(e,i),o=t.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(s,c)=>{const u=l[c.replace(/\{|\}/g,"")];return u!==void 0?u:c});return a?o.replace("23:59","24:00"):o}formatTimeLite(e){const t=e.getHours(),i=e.getMinutes();return`${(t<10?"0":"")+t}:${(i<10?"0":"")+i}`}_nth(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}_hydrateDateObject(e,t){if(tt.D)return tt;const i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),l=(e.getDay()-1+7)%7;return tt={YYYY:i,YY:()=>i.toString().substring(2),M:n,MM:()=>(n<10?"0":"")+n,MMM:()=>t.months[n-1].substring(0,3),MMMM:()=>t.months[n-1],MMMMG:()=>(t.monthsGenitive||t.months)[n-1],D:a,DD:()=>(a<10?"0":"")+a,S:()=>this._nth(a),d:l+1,dd:()=>t.weekDays[l][0],ddd:()=>t.weekDays[l].substr(0,3),dddd:()=>t.weekDays[l]},tt}_hydrateTimeObject(e,t){if(Ye.am)return Ye;let i,n;e instanceof Date?(i=e.getHours(),n=e.getMinutes()):(i=Math.floor(e/60),n=Math.floor(e%60));const a=i%12?i%12:12,l=(t||{am:"am",pm:"pm"})[i===24||i<12?"am":"pm"];return Ye={H:i,h:a,HH:(i<10?"0":"")+i,hh:(a<10?"0":"")+a,am:l,AM:l.toUpperCase(),m:n,mm:(n<10?"0":"")+n},Ye}}(it),sa={name:"vue-cal",components:{"vuecal-cell":_i,"vuecal-header":Dn,WeekdaysHeadings:Di,AllDayBar:xn},provide(){return{vuecal:this,utils:this.utils,modules:this.modules,previous:this.previous,next:this.next,switchView:this.switchView,updateSelectedDate:this.updateSelectedDate,editEvents:this.editEvents,view:this.view,domEvents:this.domEvents}},props:{activeView:{type:String,default:"week"},allDayBarHeight:{type:[String,Number],default:"25px"},cellClickHold:{type:Boolean,default:!0},cellContextmenu:{type:Boolean,default:!1},clickToNavigate:{type:Boolean,default:!1},dblclickToNavigate:{type:Boolean,default:!0},disableDatePrototypes:{type:Boolean,default:!1},disableDays:{type:Array,default:()=>[]},disableViews:{type:Array,default:()=>[]},dragToCreateEvent:{type:Boolean,default:!0},dragToCreateThreshold:{type:Number,default:15},editableEvents:{type:[Boolean,Object],default:!1},events:{type:Array,default:()=>[]},eventsCountOnYearView:{type:Boolean,default:!1},eventsOnMonthView:{type:[Boolean,String],default:!1},hideBody:{type:Boolean,default:!1},hideTitleBar:{type:Boolean,default:!1},hideViewSelector:{type:Boolean,default:!1},hideWeekdays:{type:Array,default:()=>[]},hideWeekends:{type:Boolean,default:!1},locale:{type:[String,Object],default:"en"},maxDate:{type:[String,Date],default:""},minCellWidth:{type:Number,default:0},minDate:{type:[String,Date],default:""},minEventWidth:{type:Number,default:0},minSplitWidth:{type:Number,default:0},onEventClick:{type:[Function,null],default:null},onEventCreate:{type:[Function,null],default:null},onEventDblclick:{type:[Function,null],default:null},overlapsPerTimeStep:{type:Boolean,default:!1},resizeX:{type:Boolean,default:!1},selectedDate:{type:[String,Date],default:""},showAllDayEvents:{type:[Boolean,String],default:!1},showTimeInCells:{type:Boolean,default:!1},showWeekNumbers:{type:[Boolean,String],default:!1},snapToTime:{type:Number,default:0},small:{type:Boolean,default:!1},specialHours:{type:Object,default:()=>({})},splitDays:{type:Array,default:()=>[]},startWeekOnSunday:{type:Boolean,default:!1},stickySplitLabels:{type:Boolean,default:!1},time:{type:Boolean,default:!0},timeCellHeight:{type:Number,default:40},timeFormat:{type:String,default:""},timeFrom:{type:Number,default:0},timeStep:{type:Number,default:60},timeTo:{type:Number,default:1440},todayButton:{type:Boolean,default:!1},transitions:{type:Boolean,default:!0},twelveHour:{type:Boolean,default:!1},watchRealTime:{type:Boolean,default:!1},xsmall:{type:Boolean,default:!1}},data(){return{ready:!1,texts:{...it},utils:{date:!!this.disableDatePrototypes&&ci.removePrototypes()||ci,cell:null,event:null},modules:{dnd:null},cellsEl:null,view:{id:"",title:"",startDate:null,endDate:null,firstCellDate:null,lastCellDate:null,selectedDate:null,events:[]},eventIdIncrement:1,now:new Date,timeTickerIds:[null,null],domEvents:{resizeAnEvent:{_eid:null,start:null,split:null,segment:null,originalEndTimeMinutes:0,originalEnd:null,end:null,startCell:null,endCell:null},dragAnEvent:{_eid:null},dragCreateAnEvent:{startCursorY:null,start:null,split:null,event:null},focusAnEvent:{_eid:null,mousedUp:!1},clickHoldAnEvent:{_eid:null,timeout:1200,timeoutId:null},dblTapACell:{taps:0,timeout:500},clickHoldACell:{cellId:null,split:null,timeout:1200,timeoutId:null,eventCreated:!1},cancelClickEventCreation:!1},mutableEvents:[],transitionDirection:"right"}},methods:{async loadLocale(e){if(typeof this.locale=="object")return this.texts=Object.assign({},it,e),void this.utils.date.updateTexts(this.texts);if(this.locale==="en"){const t=await C(()=>import("./en.es.b6c5aa4d.js"),[]);this.texts=Object.assign({},it,t)}else((t,i)=>{const n=t[i];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((a,l)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(l.bind(null,new Error("Unknown variable dynamic import: "+i)))})})(Object.assign({"./i18n/ar.json":()=>C(()=>import("./ar.es.da9f268b.js"),[]),"./i18n/bg.json":()=>C(()=>import("./bg.es.0093b7b2.js"),[]),"./i18n/bn.json":()=>C(()=>import("./bn.es.0865b58c.js"),[]),"./i18n/bs.json":()=>C(()=>import("./bs.es.2f9a830d.js"),[]),"./i18n/ca.json":()=>C(()=>import("./ca.es.0256f193.js"),[]),"./i18n/cs.json":()=>C(()=>import("./cs.es.bb2318d9.js"),[]),"./i18n/da.json":()=>C(()=>import("./da.es.d50ecf62.js"),[]),"./i18n/de.json":()=>C(()=>import("./de.es.c5b6f077.js"),[]),"./i18n/el.json":()=>C(()=>import("./el.es.06914dc5.js"),[]),"./i18n/en.json":()=>C(()=>import("./en.es.b6c5aa4d.js"),[]),"./i18n/es.json":()=>C(()=>import("./es.es.eef4697f.js"),[]),"./i18n/et.json":()=>C(()=>import("./et.es.fdc2127f.js"),[]),"./i18n/fa.json":()=>C(()=>import("./fa.es.bc359656.js"),[]),"./i18n/fr.json":()=>C(()=>import("./fr.es.bd469a80.js"),[]),"./i18n/he.json":()=>C(()=>import("./he.es.52b65b77.js"),[]),"./i18n/hr.json":()=>C(()=>import("./hr.es.6d0ecbcf.js"),[]),"./i18n/hu.json":()=>C(()=>import("./hu.es.7dedd53e.js"),[]),"./i18n/id.json":()=>C(()=>import("./id.es.4b85a120.js"),[]),"./i18n/is.json":()=>C(()=>import("./is.es.c543d036.js"),[]),"./i18n/it.json":()=>C(()=>import("./it.es.e61457a2.js"),[]),"./i18n/ja.json":()=>C(()=>import("./ja.es.2273029c.js"),[]),"./i18n/ka.json":()=>C(()=>import("./ka.es.c4d16a26.js"),[]),"./i18n/ko.json":()=>C(()=>import("./ko.es.46684ef3.js"),[]),"./i18n/lt.json":()=>C(()=>import("./lt.es.6cb7de0a.js"),[]),"./i18n/mn.json":()=>C(()=>import("./mn.es.c862cce4.js"),[]),"./i18n/nl.json":()=>C(()=>import("./nl.es.bfe81cf7.js"),[]),"./i18n/no.json":()=>C(()=>import("./no.es.6dc94652.js"),[]),"./i18n/pl.json":()=>C(()=>import("./pl.es.73b125ed.js"),[]),"./i18n/pt-br.json":()=>C(()=>import("./pt-br.es.44949325.js"),[]),"./i18n/ro.json":()=>C(()=>import("./ro.es.7700b4c9.js"),[]),"./i18n/ru.json":()=>C(()=>import("./ru.es.d5d836d1.js"),[]),"./i18n/sk.json":()=>C(()=>import("./sk.es.9e20e563.js"),[]),"./i18n/sl.json":()=>C(()=>import("./sl.es.389e60ea.js"),[]),"./i18n/sq.json":()=>C(()=>import("./sq.es.9d4be584.js"),[]),"./i18n/sr.json":()=>C(()=>import("./sr.es.0e6ada4b.js"),[]),"./i18n/sv.json":()=>C(()=>import("./sv.es.989f3bdc.js"),[]),"./i18n/tr.json":()=>C(()=>import("./tr.es.9b2e2582.js"),[]),"./i18n/uk.json":()=>C(()=>import("./uk.es.43cfd1e6.js"),[]),"./i18n/vi.json":()=>C(()=>import("./vi.es.26990106.js"),[]),"./i18n/zh-cn.json":()=>C(()=>import("./zh-cn.es.d7c5e2df.js"),[]),"./i18n/zh-hk.json":()=>C(()=>import("./zh-hk.es.5da4e494.js"),[])}),`./i18n/${e}.json`).then(t=>{this.texts=Object.assign({},it,t.default),this.utils.date.updateTexts(this.texts)})},loadDragAndDrop(){C(()=>import("./drag-and-drop.es.3c6ca85a.js"),[]).then(e=>{const{DragAndDrop:t}=e;this.modules.dnd=new t(this)}).catch(()=>console.warn("Vue Cal: Missing drag & drop module."))},validateView(e){return di.includes(e)||(console.error(`Vue Cal: invalid active-view parameter provided: "${e}".
A valid view must be one of: ${di.join(", ")}.`),e="week"),this.enabledViews.includes(e)||(console.warn(`Vue Cal: the provided active-view "${e}" is disabled. Using the "${this.enabledViews[0]}" view instead.`),e=this.enabledViews[0]),e},switchToNarrowerView(e=null){this.transitionDirection="right";const t=this.enabledViews[this.enabledViews.indexOf(this.view.id)+1];t&&this.switchView(t,e)},switchView(e,t=null,i=!1){e=this.validateView(e);const n=this.utils.date,a=this.view.startDate&&this.view.startDate.getTime();if(this.transitions&&i){if(this.view.id===e)return;const s=this.enabledViews;this.transitionDirection=s.indexOf(this.view.id)>s.indexOf(e)?"left":"right"}const l=this.view.id;switch(this.view.events=[],this.view.id=e,this.view.firstCellDate=null,this.view.lastCellDate=null,t||(t=this.view.selectedDate||this.view.startDate),e){case"years":this.view.startDate=new Date(25*Math.floor(t.getFullYear()/25)||2e3,0,1),this.view.endDate=new Date(this.view.startDate.getFullYear()+25,0,1),this.view.endDate.setSeconds(-1);break;case"year":this.view.startDate=new Date(t.getFullYear(),0,1),this.view.endDate=new Date(t.getFullYear()+1,0,1),this.view.endDate.setSeconds(-1);break;case"month":{this.view.startDate=new Date(t.getFullYear(),t.getMonth(),1),this.view.endDate=new Date(t.getFullYear(),t.getMonth()+1,1),this.view.endDate.setSeconds(-1);let s=new Date(this.view.startDate);if(s.getDay()!==(this.startWeekOnSunday?0:1)&&(s=n.getPreviousFirstDayOfWeek(s,this.startWeekOnSunday)),this.view.firstCellDate=s,this.view.lastCellDate=n.addDays(s,41),this.view.lastCellDate.setHours(23,59,59,0),this.hideWeekends){if([0,6].includes(this.view.firstCellDate.getDay())){const c=this.view.firstCellDate.getDay()!==6||this.startWeekOnSunday?1:2;this.view.firstCellDate=n.addDays(this.view.firstCellDate,c)}if([0,6].includes(this.view.startDate.getDay())){const c=this.view.startDate.getDay()===6?2:1;this.view.startDate=n.addDays(this.view.startDate,c)}if([0,6].includes(this.view.lastCellDate.getDay())){const c=this.view.lastCellDate.getDay()!==0||this.startWeekOnSunday?1:2;this.view.lastCellDate=n.subtractDays(this.view.lastCellDate,c)}if([0,6].includes(this.view.endDate.getDay())){const c=this.view.endDate.getDay()===0?2:1;this.view.endDate=n.subtractDays(this.view.endDate,c)}}break}case"week":{t=n.getPreviousFirstDayOfWeek(t,this.startWeekOnSunday);const s=this.hideWeekends?5:7;this.view.startDate=this.hideWeekends&&this.startWeekOnSunday?n.addDays(t,1):t,this.view.startDate.setHours(0,0,0,0),this.view.endDate=n.addDays(t,s),this.view.endDate.setSeconds(-1);break}case"day":this.view.startDate=t,this.view.startDate.setHours(0,0,0,0),this.view.endDate=new Date(t),this.view.endDate.setHours(23,59,59,0)}this.addEventsToView();const o=this.view.startDate&&this.view.startDate.getTime();if((l!==e||o!==a)&&(this.$emit("update:activeView",e),this.ready)){const s=this.view.startDate,c={view:e,startDate:s,endDate:this.view.endDate,...this.isMonthView?{firstCellDate:this.view.firstCellDate,lastCellDate:this.view.lastCellDate,outOfScopeEvents:this.view.outOfScopeEvents.map(this.cleanupEvent)}:{},events:this.view.events.map(this.cleanupEvent),...this.isWeekView?{week:n.getWeek(this.startWeekOnSunday?n.addDays(s,1):s)}:{}};this.$emit("view-change",c)}},previous(){this.previousNext(!1)},next(){this.previousNext()},previousNext(e=!0){const t=this.utils.date;this.transitionDirection=e?"right":"left";const i=e?1:-1;let n=null;const{startDate:a,id:l}=this.view;switch(l){case"years":n=new Date(a.getFullYear()+25*i,0,1);break;case"year":n=new Date(a.getFullYear()+1*i,1,1);break;case"month":n=new Date(a.getFullYear(),a.getMonth()+1*i,1);break;case"week":n=t[e?"addDays":"subtractDays"](t.getPreviousFirstDayOfWeek(a,this.startWeekOnSunday),7);break;case"day":n=t[e?"addDays":"subtractDays"](a,1);const o=n.getDay(),s=this.startWeekOnSunday?o:(o||7)-1;if(this.weekDays[s].hide){const c=this.weekDays.map((d,m)=>({...d,i:m}));let u=0;e?([...c.slice(s),...c].find(d=>(u++,!d.hide)).i,u--):[...c,...c.slice(0,s)].reverse().find(d=>(u++,!d.hide)).i,n=t[e?"addDays":"subtractDays"](n,u)}}n&&this.switchView(l,n)},addEventsToView(e=[]){const t=this.utils.event,{startDate:i,endDate:n,firstCellDate:a,lastCellDate:l}=this.view;if(e.length||(this.view.events=[]),!(e=e.length?e:[...this.mutableEvents])||this.isYearsOrYearView&&!this.eventsCountOnYearView)return;let o=e.filter(s=>t.eventInRange(s,i,n));this.isYearsOrYearView||this.isMonthView&&!this.eventsOnMonthView||(o=o.map(s=>s.daysCount>1?t.createEventSegments(s,a||i,l||n):s)),this.view.events.push(...o),this.isMonthView&&(this.view.outOfScopeEvents=[],e.forEach(s=>{(t.eventInRange(s,a,i)||t.eventInRange(s,n,l))&&(this.view.events.some(c=>c._eid===s._eid)||this.view.outOfScopeEvents.push(s))}))},findAncestor(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},isDOMElementAnEvent(e){return e.classList.contains("vuecal__event")||this.findAncestor(e,"vuecal__event")},onMouseMove(e){const{resizeAnEvent:t,dragAnEvent:i,dragCreateAnEvent:n}=this.domEvents;(t._eid!==null||i._eid!==null||n.start)&&(e.preventDefault(),t._eid?this.eventResizing(e):this.dragToCreateEvent&&n.start&&this.eventDragCreation(e))},onMouseUp(e){const{focusAnEvent:t,resizeAnEvent:i,clickHoldAnEvent:n,clickHoldACell:a,dragCreateAnEvent:l}=this.domEvents,{_eid:o}=n,{_eid:s}=i;let c=!1;const{event:u,start:d}=l,m=this.isDOMElementAnEvent(e.target),f=t.mousedUp;if(t.mousedUp=!1,m&&(this.domEvents.cancelClickEventCreation=!0),a.eventCreated)return;if(s){const{originalEnd:g,originalEndTimeMinutes:W,endTimeMinutes:S}=i,H=this.view.events.find(Z=>Z._eid===i._eid);if(c=S&&S!==W,H&&H.end.getTime()!==g.getTime()){const Z=this.mutableEvents.find(j=>j._eid===i._eid);Z.endTimeMinutes=H.endTimeMinutes,Z.end=H.end;const V=this.cleanupEvent(H),L={...this.cleanupEvent(H),end:g,endTimeMinutes:H.originalEndTimeMinutes};this.$emit("event-duration-change",{event:V,oldDate:i.originalEnd,originalEvent:L}),this.$emit("event-change",{event:V,originalEvent:L})}H&&(H.resizing=!1),i._eid=null,i.start=null,i.split=null,i.segment=null,i.originalEndTimeMinutes=null,i.originalEnd=null,i.endTimeMinutes=null,i.startCell=null,i.endCell=null}else d&&(u&&(this.emitWithEvent("event-drag-create",u),l.event.resizing=!1),l.start=null,l.split=null,l.event=null);m||s||this.unfocusEvent(),n.timeoutId&&!o&&(clearTimeout(n.timeoutId),n.timeoutId=null),a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null);const h=typeof this.onEventClick=="function";if(f&&!c&&!o&&!u&&h){let g=this.view.events.find(W=>W._eid===t._eid);return!g&&this.isMonthView&&(g=this.view.outOfScopeEvents.find(W=>W._eid===t._eid)),g&&this.onEventClick(g,e)}},onKeyUp(e){e.keyCode===27&&this.cancelDelete()},eventResizing(e){const{resizeAnEvent:t}=this.domEvents,i=this.view.events.find(u=>u._eid===t._eid)||{segments:{}},{minutes:n,cursorCoords:a}=this.minutesAtCursor(e),l=i.segments&&i.segments[t.segment],{date:o,event:s}=this.utils,c=Math.max(n,this.timeFrom+1,(l||i).startTimeMinutes+1);if(i.endTimeMinutes=t.endTimeMinutes=c,this.snapToTime){const u=i.endTimeMinutes+this.snapToTime/2;i.endTimeMinutes=u-u%this.snapToTime}if(l&&(l.endTimeMinutes=i.endTimeMinutes),i.end.setHours(0,i.endTimeMinutes,i.endTimeMinutes===1440?-1:0,0),this.resizeX&&this.isWeekView){i.daysCount=o.countDays(i.start,i.end);const u=this.cellsEl,d=u.offsetWidth/u.childElementCount,m=Math.floor(a.x/d);if(t.startCell===null&&(t.startCell=m-(i.daysCount-1)),t.endCell!==m){t.endCell=m;const f=o.addDays(i.start,m-t.startCell),h=Math.max(o.countDays(i.start,f),1);if(h!==i.daysCount){let g=null;g=h>i.daysCount?s.addEventSegment(i):s.removeEventSegment(i),t.segment=g,i.endTimeMinutes+=.001}}}this.$emit("event-resizing",{_eid:i._eid,end:i.end,endTimeMinutes:i.endTimeMinutes})},eventDragCreation(e){const{dragCreateAnEvent:t}=this.domEvents,{start:i,startCursorY:n,split:a}=t,l=new Date(i),{minutes:o,cursorCoords:{y:s}}=this.minutesAtCursor(e);if(t.event||!(Math.abs(n-s)<this.dragToCreateThreshold))if(t.event){if(l.setHours(0,o,o===1440?-1:0,0),this.snapToTime){let d=60*l.getHours()+l.getMinutes();const m=d+this.snapToTime/2;d=m-m%this.snapToTime,l.setHours(0,d,0,0)}const c=i<l,{event:u}=t;u.start=c?i:l,u.end=c?l:i,u.startTimeMinutes=60*u.start.getHours()+u.start.getMinutes(),u.endTimeMinutes=60*u.end.getHours()+u.end.getMinutes()}else{if(t.event=this.utils.event.createAnEvent(i,1,{split:a}),!t.event)return t.start=null,t.split=null,void(t.event=null);t.event.resizing=!0}},unfocusEvent(){const{focusAnEvent:e,clickHoldAnEvent:t}=this.domEvents,i=this.view.events.find(n=>n._eid===(e._eid||t._eid));e._eid=null,t._eid=null,i&&(i.focused=!1,i.deleting=!1)},cancelDelete(){const{clickHoldAnEvent:e}=this.domEvents;if(e._eid){const t=this.view.events.find(i=>i._eid===e._eid);t&&(t.deleting=!1),e._eid=null,e.timeoutId=null}},onEventTitleBlur(e,t){if(t.title===e.target.innerHTML)return;const i=t.title;t.title=e.target.innerHTML;const n=this.cleanupEvent(t);this.$emit("event-title-change",{event:n,oldTitle:i}),this.$emit("event-change",{event:n,originalEvent:{...n,title:i}})},updateMutableEvents(){const e=this.utils.date;this.mutableEvents=[],this.events.forEach(t=>{const i=typeof t.start=="string"?e.stringToDate(t.start):t.start,n=e.formatDateLite(i),a=e.dateToMinutes(i);let l=null;typeof t.end=="string"&&t.end.includes("24:00")?(l=new Date(t.end.replace(" 24:00","")),l.setHours(23,59,59,0)):l=typeof t.end=="string"?e.stringToDate(t.end):t.end;let o=e.formatDateLite(l),s=e.dateToMinutes(l);s&&s!==1440||(!this.time||typeof t.end=="string"&&t.end.length===10?l.setHours(23,59,59,0):l.setSeconds(l.getSeconds()-1),o=e.formatDateLite(l),s=1440);const c=n!==o;t=Object.assign({...this.utils.event.eventDefaults},t,{_eid:`${this._.uid}_${this.eventIdIncrement++}`,segments:c?{}:null,start:i,startTimeMinutes:a,end:l,endTimeMinutes:s,daysCount:c?e.countDays(i,l):1,class:t.class}),this.mutableEvents.push(t)})},minutesAtCursor(e){return this.utils.cell.minutesAtCursor(e)},createEvent(e,t,i={}){return this.utils.event.createAnEvent(e,t,i)},cleanupEvent(e){return e={...e},["segments","deletable","deleting","titleEditable","resizable","resizing","draggable","dragging","draggingStatic","focused"].forEach(t=>{t in e&&delete e[t]}),e.repeat||delete e.repeat,e},emitWithEvent(e,t){this.$emit(e,this.cleanupEvent(t))},updateSelectedDate(e){if((e=e&&typeof e=="string"?this.utils.date.stringToDate(e):new Date(e))&&e instanceof Date){const{selectedDate:t}=this.view;t&&(this.transitionDirection=t.getTime()>e.getTime()?"left":"right"),e.setHours(0,0,0,0),t&&t.getTime()===e.getTime()||(this.view.selectedDate=e),this.switchView(this.view.id)}this.$emit("update:selected-date",this.view.selectedDate)},getWeekNumber(e){const t=this.utils.date,i=this.firstCellDateWeekNumber+e,n=this.startWeekOnSunday?1:0;return i>52?t.getWeek(t.addDays(this.view.firstCellDate,7*e+n)):i},timeTick(){this.now=new Date,this.timeTickerIds[1]=setTimeout(this.timeTick,6e4)},updateDateTexts(){this.utils.date.updateTexts(this.texts)},alignWithScrollbar(){if(document.getElementById("vuecal-align-with-scrollbar"))return;const e=this.$refs.vuecal.getElementsByClassName("vuecal__scrollbar-check")[0],t=e.offsetWidth-e.children[0].offsetWidth;if(t){const i=document.createElement("style");i.id="vuecal-align-with-scrollbar",i.type="text/css",i.innerHTML=`.vuecal--view-with-time .vuecal__weekdays-headings,.vuecal--view-with-time .vuecal__all-day {padding-right: ${t}px}`,document.head.appendChild(i)}},cellOrSplitHasEvents:(e,t=null)=>e.length&&(!t&&e.length||t&&e.some(i=>i.split===t.id))},created(){this.utils.cell=new tn(this),this.utils.event=new ln(this,this.utils.date),this.loadLocale(this.locale),this.editEvents.drag&&this.loadDragAndDrop(),this.updateMutableEvents(this.events),this.view.id=this.currentView,this.selectedDate?this.updateSelectedDate(this.selectedDate):(this.view.selectedDate=new Date,this.switchView(this.currentView)),this.time&&this.watchRealTime&&(this.timeTickerIds[0]=setTimeout(this.timeTick,1e3*(60-this.now.getSeconds())))},mounted(){const e=this.utils.date,t="ontouchstart"in window,{resize:i,drag:n,create:a,delete:l,title:o}=this.editEvents,s=this.onEventClick&&typeof this.onEventClick=="function";(i||n||a||l||o||s)&&window.addEventListener(t?"touchend":"mouseup",this.onMouseUp),(i||n||a&&this.dragToCreateEvent)&&window.addEventListener(t?"touchmove":"mousemove",this.onMouseMove,{passive:!1}),o&&window.addEventListener("keyup",this.onKeyUp),t&&(this.$refs.vuecal.oncontextmenu=function(d){d.preventDefault(),d.stopPropagation()}),this.hideBody||this.alignWithScrollbar();const c=this.view.startDate,u={view:this.view.id,startDate:c,endDate:this.view.endDate,...this.isMonthView?{firstCellDate:this.view.firstCellDate,lastCellDate:this.view.lastCellDate}:{},events:this.view.events.map(this.cleanupEvent),...this.isWeekView?{week:e.getWeek(this.startWeekOnSunday?e.addDays(c,1):c)}:{}};this.$emit("ready",u),this.ready=!0},beforeUnmount(){const e="ontouchstart"in window;window.removeEventListener(e?"touchmove":"mousemove",this.onMouseMove,{passive:!1}),window.removeEventListener(e?"touchend":"mouseup",this.onMouseUp),window.removeEventListener("keyup",this.onKeyUp),this.timeTickerIds[0]&&clearTimeout(this.timeTickerIds[0]),this.timeTickerIds[1]&&clearTimeout(this.timeTickerIds[1]),this.timeTickerIds=[null,null]},computed:{editEvents(){return this.editableEvents&&typeof this.editableEvents=="object"?{title:!!this.editableEvents.title,drag:!!this.editableEvents.drag,resize:!!this.editableEvents.resize,create:!!this.editableEvents.create,delete:!!this.editableEvents.delete}:{title:!!this.editableEvents,drag:!!this.editableEvents,resize:!!this.editableEvents,create:!!this.editableEvents,delete:!!this.editableEvents}},views(){return{years:{label:this.texts.years,enabled:!this.disableViews.includes("years")},year:{label:this.texts.year,enabled:!this.disableViews.includes("year")},month:{label:this.texts.month,enabled:!this.disableViews.includes("month")},week:{label:this.texts.week,enabled:!this.disableViews.includes("week")},day:{label:this.texts.day,enabled:!this.disableViews.includes("day")}}},currentView(){return this.validateView(this.activeView)},enabledViews(){return Object.keys(this.views).filter(e=>this.views[e].enabled)},hasTimeColumn(){return this.time&&this.isWeekOrDayView},isShortMonthView(){return this.isMonthView&&this.eventsOnMonthView==="short"},firstCellDateWeekNumber(){const e=this.utils.date,t=this.view.firstCellDate;return e.getWeek(this.startWeekOnSunday?e.addDays(t,1):t)},timeCells(){const e=[];for(let t=this.timeFrom,i=this.timeTo;t<i;t+=this.timeStep)e.push({hours:Math.floor(t/60),minutes:t%60,label:this.utils.date.formatTime(t,this.TimeFormat),value:t});return e},TimeFormat(){return this.timeFormat||(this.twelveHour?"h:mm{am}":"HH:mm")},daySplits(){return(this.splitDays.filter(e=>!e.hide)||[]).map((e,t)=>({...e,id:e.id||t+1}))},hasSplits(){return this.daySplits.length&&this.isWeekOrDayView},hasShortEvents(){return this.showAllDayEvents==="short"},cellOrSplitMinWidth(){let e=null;return this.hasSplits&&this.minSplitWidth?e=this.visibleDaysCount*this.minSplitWidth*this.daySplits.length:this.minCellWidth&&this.isWeekView&&(e=this.visibleDaysCount*this.minCellWidth),e},allDayBar(){let e=this.allDayBarHeight||null;return e&&!isNaN(e)&&(e+="px"),{cells:this.viewCells,options:this.$props,label:this.texts.allDay,shortEvents:this.hasShortEvents,daySplits:this.hasSplits&&this.daySplits||[],cellOrSplitMinWidth:this.cellOrSplitMinWidth,height:e}},minTimestamp(){let e=null;return this.minDate&&typeof this.minDate=="string"?e=this.utils.date.stringToDate(this.minDate):this.minDate&&this.minDate instanceof Date&&(e=this.minDate),e?e.getTime():null},maxTimestamp(){let e=null;return this.maxDate&&typeof this.maxDate=="string"?e=this.utils.date.stringToDate(this.maxDate):this.maxDate&&this.minDate instanceof Date&&(e=this.maxDate),e?e.getTime():null},weekDays(){let{weekDays:e,weekDaysShort:t=[]}=this.texts;return e=e.slice(0).map((i,n)=>({label:i,...t.length?{short:t[n]}:{},hide:this.hideWeekends&&n>=5||this.hideWeekdays.length&&this.hideWeekdays.includes(n+1)})),this.startWeekOnSunday&&e.unshift(e.pop()),e},weekDaysInHeader(){return this.isMonthView||this.isWeekView&&!this.minCellWidth&&!(this.hasSplits&&this.minSplitWidth)},months(){return this.texts.months.map(e=>({label:e}))},specialDayHours(){return this.specialHours&&Object.keys(this.specialHours).length?Array(7).fill("").map((e,t)=>{let i=this.specialHours[t+1]||[];return Array.isArray(i)||(i=[i]),e=[],i.forEach(({from:n,to:a,class:l,label:o},s)=>{e[s]={day:t+1,from:[null,void 0].includes(n)?null:1*n,to:[null,void 0].includes(a)?null:1*a,class:l||"",label:o||""}}),e}):{}},viewTitle(){const e=this.utils.date;let t="";const i=this.view.startDate,n=i.getFullYear(),a=i.getMonth();switch(this.view.id){case"years":t=this.texts.years;break;case"year":t=n;break;case"month":t=`${this.months[a].label} ${n}`;break;case"week":{const l=this.view.endDate,o=i.getFullYear();let s=this.texts.months[i.getMonth()];this.xsmall&&(s=s.substring(0,3));let c=`${s} ${o}`;if(l.getMonth()!==i.getMonth()){const u=l.getFullYear();let d=this.texts.months[l.getMonth()];this.xsmall&&(d=d.substring(0,3)),c=o===u?`${s} - ${d} ${o}`:this.small?`${s.substring(0,3)} ${o} - ${d.substring(0,3)} ${u}`:`${s} ${o} - ${d} ${u}`}t=`${this.texts.week} ${e.getWeek(this.startWeekOnSunday?e.addDays(i,1):i)} (${c})`;break}case"day":t=this.utils.date.formatDate(i,this.texts.dateFormat,this.texts)}return t},viewCells(){const e=this.utils.date;let t=[],i=null,n=!1;this.watchRealTime||(this.now=new Date);const a=this.now;switch(this.view.id){case"years":i=this.view.startDate.getFullYear(),t=Array.apply(null,Array(25)).map((l,o)=>{const s=new Date(i+o,0,1),c=new Date(i+o+1,0,1);return c.setSeconds(-1),{startDate:s,formattedDate:e.formatDateLite(s),endDate:c,content:i+o,current:i+o===a.getFullYear()}});break;case"year":i=this.view.startDate.getFullYear(),t=Array.apply(null,Array(12)).map((l,o)=>{const s=new Date(i,o,1),c=new Date(i,o+1,1);return c.setSeconds(-1),{startDate:s,formattedDate:e.formatDateLite(s),endDate:c,content:this.xsmall?this.months[o].label.substr(0,3):this.months[o].label,current:o===a.getMonth()&&i===a.getFullYear()}});break;case"month":{const l=this.view.startDate.getMonth(),o=new Date(this.view.firstCellDate);n=!1,t=Array.apply(null,Array(42)).map((s,c)=>{const u=e.addDays(o,c),d=new Date(u);d.setHours(23,59,59,0);const m=!n&&e.isToday(u)&&!n++;return{startDate:u,formattedDate:e.formatDateLite(u),endDate:d,content:u.getDate(),today:m,outOfScope:u.getMonth()!==l,class:`vuecal__cell--day${u.getDay()||7}`}}),(this.hideWeekends||this.hideWeekdays.length)&&(t=t.filter(s=>{const c=s.startDate.getDay()||7;return!(this.hideWeekends&&c>=6||this.hideWeekdays.length&&this.hideWeekdays.includes(c))}));break}case"week":{n=!1;const l=this.view.startDate,o=this.weekDays;t=o.map((s,c)=>{const u=e.addDays(l,this.startWeekOnSunday?c-1:c),d=new Date(u);d.setHours(23,59,59,0);const m=(u.getDay()||7)-1;return{startDate:u,formattedDate:e.formatDateLite(u),endDate:d,today:!n&&e.isToday(u)&&!n++,specialHours:this.specialDayHours[m]||[]}}).filter((s,c)=>!o[c].hide);break}case"day":{const l=this.view.startDate,o=new Date(this.view.startDate);o.setHours(23,59,59,0);const s=(l.getDay()||7)-1;t=[{startDate:l,formattedDate:e.formatDateLite(l),endDate:o,today:e.isToday(l),specialHours:this.specialDayHours[s]||[]}];break}}return t},visibleDaysCount(){return this.isDayView?1:7-this.weekDays.reduce((e,t)=>e+t.hide,0)},cellWidth(){return 100/this.visibleDaysCount},cssClasses(){const{resizeAnEvent:e,dragAnEvent:t,dragCreateAnEvent:i}=this.domEvents;return{[`vuecal--${this.view.id}-view`]:!0,[`vuecal--${this.locale}`]:this.locale,"vuecal--no-time":!this.time,"vuecal--view-with-time":this.hasTimeColumn,"vuecal--week-numbers":this.showWeekNumbers&&this.isMonthView,"vuecal--twelve-hour":this.twelveHour,"vuecal--click-to-navigate":this.clickToNavigate,"vuecal--hide-weekends":this.hideWeekends,"vuecal--split-days":this.hasSplits,"vuecal--sticky-split-labels":this.hasSplits&&this.stickySplitLabels,"vuecal--overflow-x":this.minCellWidth&&this.isWeekView||this.hasSplits&&this.minSplitWidth,"vuecal--small":this.small,"vuecal--xsmall":this.xsmall,"vuecal--resizing-event":e._eid,"vuecal--drag-creating-event":i.event,"vuecal--dragging-event":t._eid,"vuecal--events-on-month-view":this.eventsOnMonthView,"vuecal--short-events":this.isMonthView&&this.eventsOnMonthView==="short","vuecal--has-touch":typeof window<"u"&&"ontouchstart"in window}},isYearsOrYearView(){return["years","year"].includes(this.view.id)},isYearsView(){return this.view.id==="years"},isYearView(){return this.view.id==="year"},isMonthView(){return this.view.id==="month"},isWeekOrDayView(){return["week","day"].includes(this.view.id)},isWeekView(){return this.view.id==="week"},isDayView(){return this.view.id==="day"}},watch:{events:{handler(e,t){this.updateMutableEvents(e),this.addEventsToView()},deep:!0},locale(e){this.loadLocale(e)},selectedDate(e){this.updateSelectedDate(e)},activeView(e){this.switchView(e)}}},oa=Ue(sa,[["render",function(e,t,i,n,a,l){const o=Le("vuecal-header"),s=Le("all-day-bar"),c=Le("weekdays-headings"),u=Le("vuecal-cell");return p(),b("div",{class:ie(["vuecal__flex vuecal",l.cssClasses]),column:"",ref:"vuecal",lang:i.locale},[Se(o,{options:e.$props,"edit-events":l.editEvents,"view-props":{views:l.views,weekDaysInHeader:l.weekDaysInHeader},"week-days":l.weekDays,"has-splits":l.hasSplits,"day-splits":l.daySplits,"switch-to-narrower-view":l.switchToNarrowerView},Tt({"arrow-prev":R(()=>[$(e.$slots,"arrow-prev",{},()=>[oe("\xA0"),On,oe("\xA0")])]),"arrow-next":R(()=>[$(e.$slots,"arrow-next",{},()=>[oe("\xA0"),An,oe("\xA0")])]),"today-button":R(()=>[$(e.$slots,"today-button",{},()=>[U("span",Hn,N(a.texts.today),1)])]),title:R(()=>[$(e.$slots,"title",{title:l.viewTitle,view:a.view},()=>[oe(N(l.viewTitle),1)])]),_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:R(({heading:d,view:m})=>[$(e.$slots,"weekday-heading",{heading:d,view:m})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:R(({split:d})=>[$(e.$slots,"split-label",{split:d,view:a.view.id})]),key:"1"}:void 0]),1032,["options","edit-events","view-props","week-days","has-splits","day-splits","switch-to-narrower-view"]),i.hideBody?x("",!0):(p(),b("div",Ln,[Se(nt,{name:`slide-fade--${a.transitionDirection}`,appear:i.transitions},{default:R(()=>[(p(),b("div",{class:"vuecal__flex",style:{"min-width":"100%"},key:!!i.transitions&&a.view.id,column:""},[i.showAllDayEvents&&l.hasTimeColumn&&(!l.cellOrSplitMinWidth||l.isDayView&&!i.minSplitWidth)?(p(),we(s,Qt(Xt({key:0},l.allDayBar)),{event:R(({event:d,view:m})=>[$(e.$slots,"event",{view:m,event:d},()=>[l.editEvents.title&&d.titleEditable?(p(),b("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:f=>l.onEventTitleBlur(f,d),innerHTML:d.title},null,40,$n)):d.title?(p(),b("div",{key:1,class:"vuecal__event-title",innerHTML:d.title},null,8,Wn)):x("",!0),!d.content||l.hasShortEvents||l.isShortMonthView?x("",!0):(p(),b("div",{key:2,class:"vuecal__event-content",innerHTML:d.content},null,8,In))])]),_:3},16)):x("",!0),U("div",{class:ie(["vuecal__bg",{vuecal__flex:!l.hasTimeColumn}]),column:""},[U("div",Bn,[l.hasTimeColumn?(p(),b("div",Fn,[i.showAllDayEvents&&l.cellOrSplitMinWidth&&(!l.isDayView||i.minSplitWidth)?(p(),b("div",{key:0,class:"vuecal__all-day-text",style:ce({height:l.allDayBar.height})},[U("span",null,N(a.texts.allDay),1)],4)):x("",!0),(p(!0),b(ne,null,re(l.timeCells,(d,m)=>(p(),b("div",{class:"vuecal__time-cell",key:m,style:ce(`height: ${i.timeCellHeight}px`)},[$(e.$slots,"time-cell",{hours:d.hours,minutes:d.minutes},()=>[Pn,U("span",zn,N(d.label),1)])],4))),128))])):x("",!0),i.showWeekNumbers&&l.isMonthView?(p(),b("div",jn,[(p(),b(ne,null,re(6,d=>U("div",{class:"vuecal__flex vuecal__week-number-cell",key:d,grow:""},[$(e.$slots,"week-number-cell",{week:l.getWeekNumber(d-1)},()=>[oe(N(l.getWeekNumber(d-1)),1)])])),64))])):x("",!0),U("div",{class:ie(["vuecal__flex vuecal__cells",`${a.view.id}-view`]),grow:"",wrap:!l.cellOrSplitMinWidth||!l.isWeekView,column:!!l.cellOrSplitMinWidth},[l.cellOrSplitMinWidth&&l.isWeekView?(p(),we(c,{key:0,"transition-direction":a.transitionDirection,"week-days":l.weekDays,"switch-to-narrower-view":l.switchToNarrowerView,style:ce(l.cellOrSplitMinWidth?`min-width: ${l.cellOrSplitMinWidth}px`:"")},Tt({_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:R(({heading:d,view:m})=>[$(e.$slots,"weekday-heading",{heading:d,view:m})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:R(({split:d})=>[$(e.$slots,"split-label",{split:d,view:a.view.id})]),key:"1"}:void 0]),1032,["transition-direction","week-days","switch-to-narrower-view","style"])):l.hasSplits&&i.stickySplitLabels&&i.minSplitWidth?(p(),b("div",{key:1,class:"vuecal__flex vuecal__split-days-headers",style:ce(l.cellOrSplitMinWidth?`min-width: ${l.cellOrSplitMinWidth}px`:"")},[(p(!0),b(ne,null,re(l.daySplits,(d,m)=>(p(),b("div",{class:ie(["day-split-header",d.class||!1]),key:m},[$(e.$slots,"split-label",{split:d,view:a.view.id},()=>[oe(N(d.label),1)])],2))),128))],4)):x("",!0),i.showAllDayEvents&&l.hasTimeColumn&&(l.isWeekView&&l.cellOrSplitMinWidth||l.isDayView&&l.hasSplits&&i.minSplitWidth)?(p(),we(s,Qt(Xt({key:2},l.allDayBar)),{event:R(({event:d,view:m})=>[$(e.$slots,"event",{view:m,event:d},()=>[l.editEvents.title&&d.titleEditable?(p(),b("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:f=>l.onEventTitleBlur(f,d),innerHTML:d.title},null,40,qn)):d.title?(p(),b("div",{key:1,class:"vuecal__event-title",innerHTML:d.title},null,8,Yn)):x("",!0),!d.content||l.hasShortEvents||l.isShortMonthView?x("",!0):(p(),b("div",{key:2,class:"vuecal__event-content",innerHTML:d.content},null,8,Nn))])]),_:3},16)):x("",!0),U("div",{class:"vuecal__flex",ref:d=>a.cellsEl=d,grow:"",wrap:!l.cellOrSplitMinWidth||!l.isWeekView,style:ce(l.cellOrSplitMinWidth?`min-width: ${l.cellOrSplitMinWidth}px`:"")},[(p(!0),b(ne,null,re(l.viewCells,(d,m)=>(p(),we(u,{key:m,options:e.$props,"edit-events":l.editEvents,data:d,"cell-width":i.hideWeekdays.length&&(l.isWeekView||l.isMonthView)&&l.cellWidth,"min-timestamp":l.minTimestamp,"max-timestamp":l.maxTimestamp,"cell-splits":l.hasSplits&&l.daySplits||[]},{"cell-content":R(({events:f,split:h,selectCell:g})=>[$(e.$slots,"cell-content",{cell:d,view:a.view,goNarrower:g,events:f},()=>[h&&!i.stickySplitLabels?(p(),b("div",{key:0,class:"split-label",innerHTML:h.label},null,8,Kn)):x("",!0),d.content?(p(),b("div",{key:1,class:"vuecal__cell-date",innerHTML:d.content},null,8,Qn)):x("",!0),(l.isMonthView&&!i.eventsOnMonthView||l.isYearsOrYearView&&i.eventsCountOnYearView)&&f.length?(p(),b("div",Xn,[$(e.$slots,"events-count",{view:a.view,events:f},()=>[oe(N(f.length),1)])])):x("",!0),!l.cellOrSplitHasEvents(f,h)&&l.isWeekOrDayView?(p(),b("div",Gn,[$(e.$slots,"no-event",{},()=>[oe(N(a.texts.noEvent),1)])])):x("",!0)])]),event:R(({event:f,view:h})=>[$(e.$slots,"event",{view:h,event:f},()=>[l.editEvents.title&&f.titleEditable?(p(),b("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:g=>l.onEventTitleBlur(g,f),innerHTML:f.title},null,40,Zn)):f.title?(p(),b("div",{key:1,class:"vuecal__event-title",innerHTML:f.title},null,8,Jn)):x("",!0),!i.time||f.allDay||l.isMonthView&&(f.allDay||i.showAllDayEvents==="short")||l.isShortMonthView?x("",!0):(p(),b("div",ea,[oe(N(a.utils.date.formatTime(f.start,l.TimeFormat)),1),f.endTimeMinutes?(p(),b("span",ta,"\xA0- "+N(a.utils.date.formatTime(f.end,l.TimeFormat,null,!0)),1)):x("",!0),f.daysCount>1&&(f.segments[d.formattedDate]||{}).isFirstDay?(p(),b("small",ia,"\xA0+"+N(f.daysCount-1)+N((a.texts.day[0]||"").toLowerCase()),1)):x("",!0)])),!f.content||l.isMonthView&&f.allDay&&i.showAllDayEvents==="short"||l.isShortMonthView?x("",!0):(p(),b("div",{key:3,class:"vuecal__event-content",innerHTML:f.content},null,8,la))])]),"no-event":R(()=>[$(e.$slots,"no-event",{},()=>[oe(N(a.texts.noEvent),1)])]),_:2},1032,["options","edit-events","data","cell-width","min-timestamp","max-timestamp","cell-splits"]))),128))],12,Un)],10,Rn)])],2)]))]),_:3},8,["name","appear"]),a.ready?x("",!0):(p(),b("div",na,aa))]))],10,Vn)}]]);const ra={class:"calendar-header"},ua={class:"calendar-container"},da={__name:"CalPage",setup(e){const t=z(new Date),i=z("month"),n=["day","week","month"],a=z([{start:"2024-07-12",end:"2024-07-12",title:"Black Box Testing",content:"",class:"green-event"},{start:"2024-07-13",end:"2024-07-14",title:"Design Wireframe",content:"",class:"blue-event"},{start:"2024-07-15",end:"2024-07-18",title:"User Interface Design",content:"",class:"red-event"},{start:"2024-07-20",end:"2024-07-20",title:"PSD to HTML Conversion",content:"",class:"orange-event"}]),l=c=>{console.log("Event clicked:",c)},o=()=>{console.log("Syncing calendar...")},s=()=>{t.value=new Date};return(c,u)=>(p(),we(Ol,{class:"q-pa-md"},{default:R(()=>[U("div",ra,[Se(Gt,{onClick:s,label:"Today",color:"primary"}),Se(Zl,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),options:n,dense:"",outlined:"",color:"primary",class:"view-select"},null,8,["modelValue"]),Se(Gt,{onClick:o,label:"Sync Calendar",color:"primary"})]),U("div",ua,[Se(Cl(oa),{modelValue:t.value,"onUpdate:modelValue":u[1]||(u[1]=d=>t.value=d),events:a.value,time:!1,onEventClick:l,locale:"en","disable-views":["years","year"],class:"vue-cal",style:{height:"600px"}},null,8,["modelValue","events"])])]),_:1}))}};var pa=Al(da,[["__scopeId","data-v-060e02dc"]]);export{pa as default};
